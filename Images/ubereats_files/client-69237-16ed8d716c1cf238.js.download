"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[69237],{96551:(E,L,O)=>{O.d(L,{LK:()=>e,fn:()=>R,ko:()=>A,nJ:()=>_});const _=Object.freeze({UNKNOWN:"UNKNOWN",GROUP_ORDER:"GROUP_ORDER",SEE_SIMILAR:"SEE_SIMILAR",STORE_BUNDLING:"STORE_BUNDLING",OVERFLOW:"OVERFLOW",SCHEDULE:"SCHEDULE"}),R=(Object.freeze({DISMISS:"DISMISS",SCHEDULE:"SCHEDULE",SWITCH_ASAP:"SWITCH_ASAP"}),Object.freeze({UNKNOWN:"UNKNOWN",EMBEDDED_VIEW:"EMBEDDED_VIEW",ACTION_SHEET:"ACTION_SHEET",RESERVED_2:"RESERVED_2",RESERVED_3:"RESERVED_3",RESERVED_4:"RESERVED_4",RESERVED_5:"RESERVED_5",RESERVED_6:"RESERVED_6",RESERVED_7:"RESERVED_7"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS"}),Object.freeze({UNKNOWN:"UNKNOWN",BYOC:"BYOC",TOP_EATS:"TOP_EATS",IN_STORE_PRICING:"IN_STORE_PRICING"}),Object.freeze({STANDARD:"STANDARD",SLIM:"SLIM"}),Object.freeze({DEFAULT:"DEFAULT",VEG_PREVALENT_MARKET:"VEG_PREVALENT_MARKET"}),Object.freeze({NONE:"NONE",FILTER:"FILTER"}),Object.freeze({STANDARD:"STANDARD",USE_SECTION_AS_CATEGORY:"USE_SECTION_AS_CATEGORY"}),Object.freeze({DEFAULT:"DEFAULT"}),Object.freeze({DISCLAIMER:"DISCLAIMER",STANDARD_METADATA:"STANDARD_METADATA",NUTRITION_FACTS:"NUTRITION_FACTS",UNKNOWN:"UNKNOWN",PRICING:"PRICING",CUSTOMIZATION_METADATA:"CUSTOMIZATION_METADATA",CATALOG_SECTION:"CATALOG_SECTION",QUANTITY_SELECTOR:"QUANTITY_SELECTOR",ALERT:"ALERT",REMOVE_ITEM_BUTTON:"REMOVE_ITEM_BUTTON",STORES_WITH_PRODUCT:"STORES_WITH_PRODUCT",VARIANT_OPTIONS_GROUP:"VARIANT_OPTIONS_GROUP",MINI_STORE_CARD:"MINI_STORE_CARD",REPLACEMENT_PREFERENCES:"REPLACEMENT_PREFERENCES",ALLERGY_PREFERENCES:"ALLERGY_PREFERENCES",SPECIAL_INSTRUCTIONS:"SPECIAL_INSTRUCTIONS",CUSTOMIZATIONS:"CUSTOMIZATIONS",VERTICAL_DIVIDER:"VERTICAL_DIVIDER"})),A=Object.freeze({TILE:"TILE",DROPDOWN:"DROPDOWN",PILL:"PILL"}),e=(Object.freeze({SUCCESS:"SUCCESS",INFO:"INFO",WARNING:"WARNING",FAILURE:"FAILURE",CUSTOM:"CUSTOM"}),Object.freeze({COLLAPSED:"COLLAPSED",EXPANDED:"EXPANDED"}),Object.freeze({UNDEFINED:"UNDEFINED",VEGETARIAN:"VEGETARIAN",VEGAN:"VEGAN",GLUTEN_FREE:"GLUTEN_FREE",PLACEHOLDER_4:"PLACEHOLDER_4",PLACEHOLDER_5:"PLACEHOLDER_5",PLACEHOLDER_6:"PLACEHOLDER_6",PLACEHOLDER_7:"PLACEHOLDER_7",PLACEHOLDER_8:"PLACEHOLDER_8",PLACEHOLDER_9:"PLACEHOLDER_9"}),Object.freeze({HORIZONTAL_GRID:"HORIZONTAL_GRID",VERTICAL_GRID:"VERTICAL_GRID",EXPLORE_MENU:"EXPLORE_MENU",EATER_MESSAGE:"EATER_MESSAGE",CATEGORY_LIST_ITEM:"CATEGORY_LIST_ITEM",SPECIAL_REQUEST:"SPECIAL_REQUEST",EMPTY_STATE:"EMPTY_STATE",AD_CANVAS:"AD_CANVAS",BUNDLE_STORE:"BUNDLE_STORE",AISLE_SHORTCUTS:"AISLE_SHORTCUTS",ACTIVE_CART:"ACTIVE_CART"}));Object.freeze({UNKNOWN:"UNKNOWN",MENU:"MENU",COLLECTION:"COLLECTION",CURATED_COLLECTION:"CURATED_COLLECTION",TAXONOMY_COLLECTION:"TAXONOMY_COLLECTION"}),Object.freeze({SPECIAL_REQUEST:"SPECIAL_REQUEST",REFRESH:"REFRESH",DISMISS:"DISMISS"}),Object.freeze({UNKNOWN:"UNKNOWN",STORE:"STORE",SEE_ALL:"SEE_ALL"}),Object.freeze({ITEM:"ITEM",COMBO:"COMBO",INTER_SUBSECTION_CAROUSEL:"INTER_SUBSECTION_CAROUSEL"}),Object.freeze({DEFAULT:"DEFAULT",CAROUSEL:"CAROUSEL"}),Object.freeze({DEFAULT:"DEFAULT",COLLAPSED:"COLLAPSED",REQUIRED_SINGLE_OPTION:"REQUIRED_SINGLE_OPTION"}),Object.freeze({DEFAULT:"DEFAULT",PROMOTION:"PROMOTION"}),Object.freeze({UBER_CASH:"UBER_CASH"}),Object.freeze({NOOP:"NOOP",INSERT:"INSERT"}),Object.freeze({DEFAULT:"DEFAULT",PHYSICAL:"PHYSICAL",VIRTUAL:"VIRTUAL",DELIVERY_API:"DELIVERY_API",STANDALONE_VIRTUAL:"STANDALONE_VIRTUAL",GROCERY_STORE:"GROCERY_STORE",RESERVED_6:"RESERVED_6",RESERVED_7:"RESERVED_7"}),Object.freeze({FLAT:"FLAT",PERCENT:"PERCENT",FREE_DELIVERY:"FREE_DELIVERY",DISCOUNT_DELIVERY:"DISCOUNT_DELIVERY",PLACEHOLDER_0:"PLACEHOLDER_0",DO_NOT_USE_FREE_ITEM:"DO_NOT_USE_FREE_ITEM",DO_NOT_USE_DISCOUNTED_ITEM:"DO_NOT_USE_DISCOUNTED_ITEM",VIRTUALPROMO_UBERCASH:"VIRTUALPROMO_UBERCASH",PLACEHOLDER_9:"PLACEHOLDER_9",PLACEHOLDER_10:"PLACEHOLDER_10",PLACEHOLDER_11:"PLACEHOLDER_11",PLACEHOLDER_12:"PLACEHOLDER_12",PLACEHOLDER_13:"PLACEHOLDER_13",PLACEHOLDER_14:"PLACEHOLDER_14",PLACEHOLDER_15:"PLACEHOLDER_15",PLACEHOLDER_16:"PLACEHOLDER_16",PLACEHOLDER_17:"PLACEHOLDER_17",PLACEHOLDER_18:"PLACEHOLDER_18",PLACEHOLDER_19:"PLACEHOLDER_19",PLACEHOLDER_20:"PLACEHOLDER_20",PLACEHOLDER_21:"PLACEHOLDER_21",PLACEHOLDER_22:"PLACEHOLDER_22",PLACEHOLDER_23:"PLACEHOLDER_23",PLACEHOLDER_24:"PLACEHOLDER_24",PLACEHOLDER_25:"PLACEHOLDER_25",PLACEHOLDER_26:"PLACEHOLDER_26",PLACEHOLDER_27:"PLACEHOLDER_27",PLACEHOLDER_28:"PLACEHOLDER_28",PLACEHOLDER_29:"PLACEHOLDER_29",PLACEHOLDER_30:"PLACEHOLDER_30",PLACEHOLDER_31:"PLACEHOLDER_31",PLACEHOLDER_32:"PLACEHOLDER_32"}),Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL:"ALCOHOL",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4",PLACE_HOLDER_5:"PLACE_HOLDER_5",PLACE_HOLDER_6:"PLACE_HOLDER_6",PLACE_HOLDER_7:"PLACE_HOLDER_7",PLACE_HOLDER_8:"PLACE_HOLDER_8",PLACE_HOLDER_9:"PLACE_HOLDER_9",PLACE_HOLDER_10:"PLACE_HOLDER_10"}),Object.freeze({UNKNOWN:"UNKNOWN",ALCOHOL:"ALCOHOL",PLACE_HOLDER_2:"PLACE_HOLDER_2",PLACE_HOLDER_3:"PLACE_HOLDER_3",PLACE_HOLDER_4:"PLACE_HOLDER_4",PLACE_HOLDER_5:"PLACE_HOLDER_5",PLACE_HOLDER_6:"PLACE_HOLDER_6",PLACE_HOLDER_7:"PLACE_HOLDER_7",PLACE_HOLDER_8:"PLACE_HOLDER_8",PLACE_HOLDER_9:"PLACE_HOLDER_9",PLACE_HOLDER_10:"PLACE_HOLDER_10"}),Object.freeze({UNKNOWN:"UNKNOWN",INSTAGRAM:"INSTAGRAM",PLACEHOLDER_2:"PLACEHOLDER_2",PLACEHOLDER_3:"PLACEHOLDER_3",PLACEHOLDER_4:"PLACEHOLDER_4",PLACEHOLDER_5:"PLACEHOLDER_5",PLACEHOLDER_6:"PLACEHOLDER_6",PLACEHOLDER_7:"PLACEHOLDER_7",PLACEHOLDER_8:"PLACEHOLDER_8",PLACEHOLDER_9:"PLACEHOLDER_9",PLACEHOLDER_10:"PLACEHOLDER_10"}),Object.freeze({STORE_OPENING_SOON:"STORE_OPENING_SOON",STORE_CLOSING_SOON:"STORE_CLOSING_SOON",STORE_CLOSED:"STORE_CLOSED",NOT_ACCEPTING_ORDERS:"NOT_ACCEPTING_ORDERS",TOO_FAR_TO_DELIVER:"TOO_FAR_TO_DELIVER",NO_COURIERS_NEARBY:"NO_COURIERS_NEARBY",CLOSING_TOO_SOON_TO_DELIVER:"CLOSING_TOO_SOON_TO_DELIVER",PLACEHOLDER_2:"PLACEHOLDER_2",AVAILABLE:"AVAILABLE",UNKNOWN:"UNKNOWN"}),Object.freeze({CAMERA:"CAMERA",GALLERY:"GALLERY",DISMISS:"DISMISS"}),Object.freeze({NONE:"NONE",JPEG:"JPEG",PNG:"PNG"})},69237:(E,L,O)=>{O.d(L,{A4:()=>I,E0:()=>D,FA:()=>R,S8:()=>t,Tm:()=>S,Yx:()=>P,ex:()=>T,fg:()=>H,kR:()=>A,n$:()=>e,qY:()=>N,uw:()=>r,xZ:()=>n});var _=O(96551);function R(E){var L;return"standardItemsPayload"===(null===(L=E.payload)||void 0===L?void 0:L.type)?E.payload.standardItemsPayload:null}function A(E){return Object.values(E||{}).flat().find((E=>E.type===_.LK.BUNDLE_STORE))}function e(E,L,O){if(!E)return null;const _=O?E[O]:C(E);if(_)for(const E of _){const O=R(E),_=((null==O?void 0:O.catalogItems)||[]).find((E=>E.uuid===L));if(_)return _}return null}const C=E=>(Object.values(E||{})||[]).reduce(((E,L)=>E.concat(L)),[]);function D(E){if(!E)return null;const L=R(E);var O;if(L)return null===(O=L.title)||void 0===O?void 0:O.text;const _=function(E){var L;return"bundleStorePayload"===(null===(L=E.payload)||void 0===L?void 0:L.type)?E.payload.bundleStorePayload:null}(E);if(_){var A,e;const E=null===(A=_.title)||void 0===A||null===(e=A.richTextElements)||void 0===e?void 0:e[0];var C,D;if("text"===(null==E?void 0:E.type))return null===(C=E.text)||void 0===C||null===(D=C.text)||void 0===D?void 0:D.text}return null}function T(E){if(!E)return null;const L=R(E);return L?null==L?void 0:L.ctaMetadata:null}function t(E){const L=(E||[]).filter((E=>E.imageUrl)).slice(0,3);return{visibleItems:L,itemsWithoutImagesCount:(E||[]).length-L.length}}function N(E,L,O){var _;if(!E||!O)return[];let R=E;return L&&O&&O[L]&&(R=O[L]),null!==(_=R)&&void 0!==_?_:[]}function S(E,L){let O=0;return E.reduce(((E,_)=>{var R,A,e;const C=_.catalogSectionUUID;if(!C||"standardItemsPayload"!==(null===(R=_.payload)||void 0===R?void 0:R.type))return E;const D=(null===(A=_.payload)||void 0===A||null===(e=A.standardItemsPayload)||void 0===e?void 0:e.catalogItems)||[];if(O+D.length>=L){const _=L-O;return O+=_,{...E,[C]:_}}return O+=D.length,{...E,[C]:D.length}}),{})}function I(E,L){return E.map((E=>{var O;const _=(null==E||null===(O=E.reviewText)||void 0===O?void 0:O.text)||"";if(_.length<=L)return E;let R=L;for(;" "!==_[R]&&R>0;)R--;return{...E,reviewText:{...E.reviewText,text:"".concat(_.slice(0,R),"...")}}}))}const P=E=>{let{catalogItem:L,sectionUuid:O,catalogSectionUuid:_,isGrocery:R,isMerchantOffersEnabled:A}=E;return!R&&A?O:L.sectionUuid?L.sectionUuid:_},n=(E,L)=>{var O;let _="";var R;if(null==E||null===(O=E.endorsement)||void 0===O||!O.text||"confidence_builders_eater_endorsed"!==(null==E?void 0:E.endorsementAnalyticsTag))return null==E||null===(R=E.endorsement)||void 0===R?void 0:R.text;{const O=E.endorsement.text.split(",");"treatment_1"===L&&(_=parseInt(O[0])<60?"":O[0]+"% ("+O[1]+")"),"treatment_2"===L&&(_=parseInt(O[0])<80?"":O[0]+"% ("+O[1]+")")}return _},r=(E,L)=>{let O=0,_=0,R=0;return"treatment_1"!==L&&"treatment_2"!==L||null==E||E.forEach((E=>{var A,e,C,D;"standardItemsPayload"===(null==E||null===(A=E.payload)||void 0===A?void 0:A.type)&&null!=E&&null!==(e=E.payload)&&void 0!==e&&e.standardItemsPayload&&((null==E||null===(C=E.payload)||void 0===C||null===(D=C.standardItemsPayload)||void 0===D?void 0:D.catalogItems)||[]).forEach((E=>{_=++_,"confidence_builders_eater_endorsed"===E.endorsementAnalyticsTag&&(O=++O,n(E,L)&&(R=++R))}))})),{totalMenuItems:_,totalMenuItemsWithRatings:O,totalMenuItemsWithRatingsInTreatment:R}},H=E=>!!E.type&&[String(_.LK.BUNDLE_STORE),String(_.LK.HORIZONTAL_GRID),String(_.LK.VERTICAL_GRID),String(_.LK.EATER_MESSAGE),String(_.LK.AD_CANVAS),String(_.LK.ACTIVE_CART)].includes(E.type)}}]);