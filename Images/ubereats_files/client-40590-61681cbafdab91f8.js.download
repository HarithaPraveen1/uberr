(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[40590,1849],{__fusion__438:(e,t,r)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var l={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var c=n?Object.getOwnPropertyDescriptor(e,a):null;c&&(c.get||c.set)?Object.defineProperty(l,a,c):l[a]=e[a]}l.default=e,r&&r.set(e,l);return l}(r(43193)),n=["title","titleId","size"];function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var r,i,l=function(e,t){if(null==e)return{};var r,i,l={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(l[r]=e[r]);return l}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var d=l.forwardRef((function(e,t){var r=e.title,i=void 0===r?"Circle check":r,o=e.titleId,d=e.size,s=void 0===d?"1em":d,u=c(e,n);return l.createElement("svg",a({width:s,height:s,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":o},u),void 0===i?l.createElement("title",{id:o},"Circle check"):i?l.createElement("title",{id:o},i):null,l.createElement("path",{d:"M12 1C5.9 1 1 5.9 1 12s4.9 11 11 11 11-4.9 11-11S18.1 1 12 1Zm-1.5 16.1-5.6-5.6L7 9.4l3.4 3.4 6.4-6.4 2.1 2.1-8.4 8.6Z",fill:"currentColor"}))}));t.default=d},12947:(e,t,r)=>{"use strict";r.d(t,{DY:()=>i,_b:()=>l});Object.freeze({UNKNOWN:"UNKNOWN",ACTIVE:"ACTIVE",DELETED:"DELETED",DELETING:"DELETING"});const i=Object.freeze({UNKNOWN:"UNKNOWN",MEAL_PLAN_VIEW:"MEAL_PLAN_VIEW",CARTS_VIEW:"CARTS_VIEW",MEAL_PLAN_VIEW_COMPACT:"MEAL_PLAN_VIEW_COMPACT"}),l=Object.freeze({CREATOR:"CREATOR",PARTICIPANT:"PARTICIPANT",UNKNOWN:"UNKNOWN"})},98831:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var i=r(36151),l=r(65015),n=r(33990);function o(e,t){return(0,n.tZ)(l.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm11 0a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM1 17v6h9V12H6c-2.8 0-5 2.2-5 5zm11 6v-6c0-2.8 2.2-5 5-5h6v11H12z"})})}const a=i.forwardRef(o)},80085:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var i=r(61136),l=r(56971),n=r("__fusion__438"),o=r("__fusion__437"),a=r(33990);const c=()=>{const{enqueue:e}=(0,i.Ds)(),t=t=>{e({...t},l.t.short)};return{successSnackbar:e=>{t({...e,startEnhancer:()=>(0,a.tZ)(n.default,{size:24})})},errorSnackbar:e=>{t({...e,startEnhancer:()=>(0,a.tZ)(o.default,{size:24})})}}}},42885:(e,t,r)=>{"use strict";r.d(t,{Z:()=>V});var i=r(54336),l=r(48172),n=r(70300),o=r(18805),a=r(12947),c=r(3618),d=r(34597),s=r(97802),u=r(49368),p=r(68527),h=r(63665),g=r(56850),v=r(18075),f=r(58980),m=r(79733),y=r(56758),Z=r(78963),b=r(11026),x=r(24180),O=r(7719),I=r(33990);const w=(0,s.zo)(l.Z,(e=>{let{$isMobile:t,$isXlb:r}=e;return{maxHeight:t?r?"85vh":"75vh":"auto"}})),C=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",position:"sticky",top:0,zIndex:1,background:t.colors.backgroundPrimary,borderBottom:"2px solid ".concat(t.colors.borderOpaque),...t.typography.LabelLarge}})),z=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{height:t.sizing.scale1600,width:t.sizing.scale1600,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}})),U=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:1,alignItems:"center",paddingRight:t.sizing.scale800,minWidth:"0"}})),P=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentPrimary,flexGrow:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%"}})),S=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,paddingLeft:t.sizing.scale800}})),_=(0,s.zo)("ul",{display:"flex",flexDirection:"column",listStyle:"none"}),k=(0,s.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{padding:"".concat(t.sizing.scale600," ").concat(t.sizing.scale600," ").concat(t.sizing.scale300," ").concat(t.sizing.scale600),textAlign:"rtl"===r?"right":"left"}})),D=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),M=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,height:t.sizing.scale1600,width:t.sizing.scale1600,margin:t.sizing.scale600,borderRadius:"50%",overflow:"hidden",position:"relative"}})),R=(0,s.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0}),$=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",flexGrow:1,minWidth:"0",minHeight:t.sizing.scale2400,overflow:"hidden",borderBottom:"1px solid ".concat(t.colors.borderOpaque)}})),B=(0,s.zo)("div",(e=>{let{$direction:t}=e;return{minWidth:"0",display:"flex",flexDirection:"column",flexGrow:1,textAlign:"rtl"===t?"right":"left"}})),E=(0,s.zo)("div",{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),T=(0,s.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row",paddingRight:t.sizing.scale800,paddingLeft:t.sizing.scale600}})),A=(0,s.zo)(o.rU,(e=>{let{$theme:t}=e;return{color:t.colors.action,...t.typography.LabelMedium}})),V=e=>{let{onBackClick:t,onCartSelect:r,isMobile:o,mealPlanUUID:s}=e;const V=(0,f.TH)(),{query:L}=(0,Z.M)({mealPlanUUID:s,draftOrderPayloadType:{},screenId:a.DY.CARTS_VIEW}),{isCreator:N}=(0,b.Z)(s),W=(0,x.P1)(V,s),{closeSidebarCart:H,closeCartDropdown:j}=(0,p.Lb)(),q=(0,u.gm)(),X=(0,v.Z)();return(0,I.tZ)(d.a,{source:L,loaded:e=>{var a;let{draftOrderPayload:d}=e;const s=null==d?void 0:d.view;return(0,I.BX)(w,{$isMobile:o,$isXLB:X,children:[(0,I.BX)(C,{children:[(0,I.tZ)(z,{onClick:e=>{e.stopPropagation(),null==t||t()},children:(0,I.tZ)(i.Z,{})}),(0,I.BX)(U,{children:[(0,I.tZ)(P,{$direction:q,children:null==s?void 0:s.title}),(0,I.tZ)(S,{children:(0,I.tZ)(A,{to:W,onClick:()=>{j(),H()},children:N?(0,I.tZ)(n.v,{id:"go.manage"}):(0,I.tZ)(n.v,{id:"carousel.see_all"})})})]})]}),(0,I.tZ)(l.Z,{children:null!=s&&s.emptyState?(0,I.tZ)(O._,{emptyState:null==s?void 0:s.emptyState}):null==s||null===(a=s.sections)||void 0===a?void 0:a.map(((e,t)=>{var i;return(0,I.BX)(_,{children:[(0,I.tZ)(k,{$direction:q,children:(0,I.tZ)(g.ZP,{text:e.title})}),null===(i=e.rows)||void 0===i?void 0:i.map(((e,t)=>{var i;return(0,I.BX)(D,{onClick:()=>{var i,l;const n=null===(i=e.button)||void 0===i?void 0:i.action;"openCart"===(null==n?void 0:n.type)&&null!=n&&null!==(l=n.openCart)&&void 0!==l&&l.draftOrderUUID&&r(n.openCart.draftOrderUUID,t)},children:[(0,I.BX)(M,{children:[(0,I.tZ)(h.SZ,{richIllustration:e.leadingIllustration}),(0,I.tZ)(R,{})]}),(0,I.BX)($,{children:[(0,I.BX)(B,{$direction:q,children:[(0,I.tZ)(E,{children:(0,I.tZ)(g.ZP,{text:e.title,whiteSpace:"nowrap"})}),null===(i=e.taglines)||void 0===i?void 0:i.map(((e,t)=>(0,I.tZ)(E,{children:(0,I.tZ)(g.ZP,{text:e,whiteSpace:"nowrap"})},t)))]}),(0,I.tZ)(T,{children:(0,I.tZ)(c.Z,{size:12,color:"primary400"})})]})]},t)}))]},t)}))})]})},loading:()=>(0,I.tZ)(y.ZP,{}),error:()=>(0,I.tZ)(m.Z,{})})}},7719:(e,t,r)=>{"use strict";r.d(t,{_:()=>p});var i=r(48172),l=r(63665),n=r(56850),o=r(53444),a=r(97802),c=r(28398),d=r(94321),s=r(33990);const u=(0,a.zo)("div",(e=>{let{$theme:t,$isMobile:r}=e;return{display:"flex",flex:1,alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",gap:t.sizing.scale500,marginTop:r?t.sizing.scale600:t.sizing.scale1600,marginBottom:t.sizing.scale800}})),p=e=>{let{emptyState:t}=e;const{isMobile:r}=(0,c.v)((e=>{let{device:t}=e;return t})),{title:a,subtitle:p,button:h,illustration:g,action:v}=t,{handleMealPlanViewOrderClick:f}=(0,d.W)();return(0,s.BX)(u,{$isMobile:r,children:[(0,s.tZ)(l.SZ,{richIllustration:g}),(0,s.tZ)(i.Z,{display:"flex",flexDirection:"column",children:(0,s.tZ)(n.ZP,{text:a})}),(0,s.tZ)(i.Z,{maxWidth:"500px",children:(0,s.tZ)(n.ZP,{text:p})}),h&&v?(0,s.tZ)(i.Z,{width:"auto",marginTop:"scale500",children:(0,s.tZ)(o.Z,{viewModel:h,onClick:e=>{f(v)}})}):null]})}},6382:(e,t,r)=>{"use strict";r.d(t,{Ap:()=>v,B3:()=>g,EJ:()=>h,G8:()=>a,Nx:()=>n,Tj:()=>s,Uw:()=>c,W5:()=>l,dM:()=>o,ff:()=>d,jF:()=>i,q6:()=>f,qV:()=>p,xZ:()=>u});const i={HOUR_1:60,HOURS_2:120,HOURS_4:240,HOURS_12:720,HOURS_24:1440,HOURS_48:2880},l=300,n=254,o="443px",a={PAST:"PAST",ACTIVE:"ACTIVE",UPCOMING:"UPCOMING"},c={skipEmptyLines:"greedy",delimiter:"\n"},d=25,s="392px",u="skippedEmails",p={joinOrder:"joinOrder",openCart:"openCart",openStoreFront:"openStoreFront",trackOrder:"trackOrder",viewOrder:"viewOrder",seeAll:"seeAll",createOrder:"createOrder"},h="USD",g={Tail:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.mono400}}},Icon:{style:e=>{let{$theme:t,$isActive:r}=e;const i=r?t.sizing.scale700:t.sizing.scale400;return{width:i,height:i,lineHeight:i,borderTopLeftRadius:i,borderTopRightRadius:i,borderBottomRightRadius:i,borderBottomLeftRadius:i,backgroundColor:r?t.colors.progressStepsActiveFill:t.colors.mono400}}}},v=15,f=18},78963:(e,t,r)=>{"use strict";r.d(t,{M:()=>d});var i=r(33679),l=r.n(i),n=r(17211),o=r(92614),a=r(93026);var c=r(24180);const d=e=>{const{uuid:t}=(0,c.fY)(),r=function(e,t){const r=(0,a.Z)("getMealPlanOrdersViewV1"),i=(0,o.H)("getMealPlanOrdersViewV1",e);return(0,n.useQuery)({queryKey:i,queryFn:e=>{let{queryKey:t}=e;return r.request("getMealPlanOrdersViewV1",t[1])},...null==t?void 0:t.queryObserverOptions})}({mealPlanUUID:t,...e},{queryObserverOptions:{refetchOnMount:"always",refetchInterval:e=>{var t,r;const i=null==e||null===(t=e.draftOrderPayload)||void 0===t||null===(r=t.loadingState)||void 0===r?void 0:r.reloadInMs;if(i){return l().fromValue(i).toNumber()}return!1}}}),{data:i,isLoading:d}=r;return{query:r,data:i,isLoading:d}}},11026:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a,L:()=>c});var i=r(17211),l=r(92614),n=r(93026);var o=r(12947);const a=(e,t)=>{var r,a,c,d,s,u,p,h;const g=function(e,t){const r=(0,n.Z)("getMealPlanByUuidV1"),o=(0,l.H)("getMealPlanByUuidV1",e);return(0,i.useQuery)({queryKey:o,queryFn:e=>{let{queryKey:t}=e;return r.request("getMealPlanByUuidV1",t[1])},...null==t?void 0:t.queryObserverOptions})}({mealPlanUUID:e,includeParticipantCount:!0,includeAssociatedParticipantInfo:!0},{queryObserverOptions:{staleTime:1e4}}),v=g.data,f=((e,t)=>{const r="getMealPlanDeliveryLocationV1",l=(0,n.Z)(r),o=[r,e];return(0,i.useQuery)({queryKey:o,queryFn:()=>l.request(r,e),...t})})({placeId:null!==(r=null==v||null===(a=v.mealPlan)||void 0===a||null===(c=a.placeReferenceInfo)||void 0===c?void 0:c.placeID)&&void 0!==r?r:"",provider:null!==(d=null==v||null===(s=v.mealPlan)||void 0===s||null===(u=s.placeReferenceInfo)||void 0===u?void 0:u.provider)&&void 0!==d?d:""},{enabled:Boolean(v)&&Boolean(null==t?void 0:t.fetchDeliveryLocation)}),m=null==v||null===(p=v.mealPlan)||void 0===p?void 0:p.associatedParticipantInfo;return{deliveryLocationQuery:f,mealPlanQuery:g,mealPlan:null==v?void 0:v.mealPlan,isCreator:(null==m?void 0:m.role)===o._b.CREATOR,isParticipant:(null==m?void 0:m.role)===o._b.PARTICIPANT,participantCount:null!==(h=null==m?void 0:m.participantCount)&&void 0!==h?h:0,participantUUID:null==m?void 0:m.participantUUID}},c=e=>["getMealPlanByUuidV1",{mealPlanUUID:e}]},94321:(e,t,r)=>{"use strict";r.d(t,{W:()=>m});var i=r(23773),l=r(17211),n=r(7903),o=r(80085),a=r(76653),c=r(67395),d=r(19474),s=r(54068),u=r(68527),p=r(74482),h=r(72403),g=r(58980),v=r(6382),f=r(24180);const m=()=>{const{setActiveDraftOrder:e}=(0,c.Z)(),{toggleSidebarCartVisible:t,closeCartDropdown:r}=(0,u.Lb)(),{isMobile:m}=(0,p.hU)(),{addMemberToDraftOrder:y}=(0,a.Z)(),Z=(0,l.useQueryClient)(),{errorSnackbar:b}=(0,o.Z)(),x=(0,i.T)(),O=(0,d.ZP)(),I=(0,n.k6)(),w=(0,g.TH)(),C=(0,s.Z)("getDraftOrderByUuidV2");return{handleMealPlanViewOrderClick:i=>{if(i&&i.type)switch(i.type){case v.qV.openStoreFront:{const{draftOrderUUID:t,storeUUID:r,storeSlug:l}=i.openStoreFront;e(null!=t?t:""),C({draftOrderUUID:null!=t?t:""});const n=(0,h.gfM)(w,{storeSlug:String(l),storeUuid:String(r)});I.push(n);break}case v.qV.openCart:{var l;const n=null!==(l=i.openCart.draftOrderUUID)&&void 0!==l?l:"";if(e(n),C({draftOrderUUID:n}),m){const e=(0,h.C45)(w),t=(0,h.nQQ)(e);I.push(t)}else r(),t();break}case v.qV.joinOrder:(async()=>{try{const{storeUUID:t,storeSlug:r,draftOrderUUID:l}=i.joinOrder;await y.mutateAsync({draftOrderUUID:String(l)}),e(String(l)),Z.invalidateQueries(["getMealPlanOrdersViewV1"]),I.push((0,h.gfM)(w,{storeSlug:String(r),storeUuid:String(t)}))}catch(e){b({message:x("components.genericError.title")})}})();break;case v.qV.trackOrder:I.push((0,h._u3)(w,{uuid:String(i.trackOrder.orderUUID)}));break;case v.qV.viewOrder:if(m)return void I.push((0,h.eKu)(w,String(i.viewOrder.orderUUID)));I.push((0,h.vN_)(w,"orderReceipt",String(i.viewOrder.orderUUID)));break;case v.qV.seeAll:I.push((0,f.FO)(w,String(i.seeAll.mealPlanUUID)));break;case v.qV.createOrder:O("eats:meal_plan_create_order_click",{source:"order_view"}),I.push((0,f.n)(w,String(i.createOrder.mealPlanUUID)))}},isLoading:y.isLoading}}},4132:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Y});var i=r(43193),l=r(36151),n=r(7903),o=r(58980),a=r(97802),c=r(49608),d=r(75057),s=r(80130),u=r(98831),p=r(65015),h=r(33990);function g(e,t){return(0,h.tZ)(p.Z,{viewBox:"0 0 22 22",ref:t,...e,children:(0,h.tZ)("path",{d:"M15.801 12.5c-4 0-7.2-3.2-7.2-7.2 0-2.1.9-3.9 2.2-5.2-6-.1-10.7 4.7-10.7 10.5s4.7 10.5 10.5 10.5c5.7 0 10.6-4.6 10.5-10.7-1.4 1.2-3.3 2.1-5.3 2.1z"})})}const v=l.forwardRef(g);var f=r(17308),m=r(3618),y=r(49368),Z=r(56850),b=r(27264),x=r(74482);const O=(0,a.zo)("div",(e=>{let{$isMobile:t}=e;return{display:"flex",maxWidth:t?"calc(100vw - 84px)":"315px",alignItems:"center"}})),I=(0,a.zo)("div",(()=>({position:"relative",height:"64px",width:"64px",flexShrink:0}))),w=(0,a.zo)("div",(e=>{let{$size:t}=e;return{height:"".concat(t,"px"),width:"".concat(t,"px"),flexShrink:0,borderRadius:"50%",overflow:"hidden",position:"relative"}})),C=(0,a.zo)("div",(()=>({position:"absolute",top:0,left:0}))),z=(0,a.zo)("div",(()=>({position:"absolute",bottom:0,right:0}))),U=(0,a.zo)("div",{position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, .5)",display:"flex",alignItems:"center",justifyContent:"center"}),P=(0,a.zo)(s.Z,(e=>{let{$size:t}=e;return{height:"".concat(t,"px"),width:"".concat(t,"px"),objectFit:"cover",flexShrink:0}})),S=(0,a.zo)("div",(e=>{let{$direction:t}=e;return{justifyContent:"center",display:"flex",flexDirection:"column",minWidth:"0",textAlign:"rtl"===t?"right":"left"}})),_=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"500px"}})),k=(0,a.zo)("div",{display:"flex",alignItems:"center"}),D=(0,a.zo)("div",{display:"flex",alignItems:"center",flexDirection:"row"}),M=(0,a.zo)("div",{display:"flex",alignItems:"center",flexDirection:"row"}),R=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,backgroundColor:t.colors.backgroundInversePrimary,borderRadius:"50%",color:t.colors.contentInversePrimary,height:"24px",width:"24px",marginRight:"16px",display:"flex",justifyContent:"center",alignItems:"center"}})),$=(0,a.zo)("div",(e=>{let{$theme:t,$size:r=0,$isHovering:i,$isMobile:l}=e;return{width:"".concat(r+2,"px"),height:"".concat(r+2,"px"),borderRadius:"50%",position:"absolute",bottom:0,right:0,...i?{background:l?t.colors.menuFillHover:t.colors.backgroundSecondary}:{background:t.colors.backgroundPrimary}}})),B=e=>{let t,{overlayIcon:r,size:i=24}=e;if("WEATHER_MOON"===r)t=(0,h.tZ)(v,{color:"white",size:i});else{if("PERSON_MULTIPLE"!==r)return null;t=(0,h.tZ)(u.Z,{color:"white",size:i})}return(0,h.tZ)(U,{children:t})},E=e=>{let{size:t,storeImage:r,title:i,overlayIcon:l,overlayIconSize:n}=e;return(0,h.BX)(w,{$size:t,children:[(0,h.tZ)(P,{$size:t,src:r,alt:i}),(0,h.tZ)(B,{overlayIcon:l,size:n})]})},T=e=>{let{storeImages:t,title:i,overlayIcon:l,isHovering:n,showBorder:o}=e;const{isMobile:a}=(0,x.hU)(),d=(0,c.pZ)(r(44139)),s=null!=t?t:o?[d,d]:[d];return s[0]?s.length>1&&s[1]?(0,h.BX)(I,{children:[(0,h.tZ)(C,{children:(0,h.tZ)(E,{storeImage:s[0],title:i,size:40,overlayIcon:l,overlayIconSize:14})}),(0,h.BX)(z,{children:[o?(0,h.tZ)($,{$size:40,$isHovering:n,$isMobile:a}):null,(0,h.tZ)(E,{storeImage:s[1],title:i,size:40,overlayIcon:l,overlayIconSize:14})]})]}):(0,h.tZ)(E,{storeImage:s[0],title:i,size:64,overlayIcon:l}):null},A=e=>{var t;let{cartView:r,isMobile:i,isHovering:l}=e;const{storeImageUrls:n,title:o,tagline1:a,tagline2:c,tagline3:s,overlayIcon:u,itemCount:p,metadata:g}=r,v=(0,y.gm)();return(0,h.BX)(h.HY,{children:[(0,h.BX)(O,{$isMobile:i,children:[(0,h.tZ)(T,{storeImages:n,overlayIcon:u,title:o,isHovering:l,showBorder:Boolean(null==g||null===(t=g.openCheckoutMetadata)||void 0===t?void 0:t.bundleGroupMetadata)}),(0,h.tZ)(d.ZP,{$width:"16px"}),(0,h.BX)(S,{$direction:v,children:[(0,h.tZ)(_,{children:o}),(0,h.tZ)(f.ZP,{$height:2}),(0,h.tZ)(b.Z,{badge:a,baseFont:"ParagraphSmall",truncateTextWithEllipsis:!0}),(0,h.tZ)(f.ZP,{$height:2}),(0,h.tZ)(b.Z,{badge:c,baseFont:"ParagraphSmall",truncateTextWithEllipsis:!0}),s?(0,h.BX)(h.HY,{children:[(0,h.tZ)(f.ZP,{$height:4}),(0,h.tZ)(Z.ZP,{text:s})]}):null]})]}),(0,h.BX)(k,{children:[void 0!==p?(0,h.tZ)(M,{children:(0,h.tZ)(R,{children:p})}):null,(0,h.tZ)(D,{children:(0,h.tZ)(m.Z,{size:12,color:"primary400"})})]})]})};var V=r(83324),L=r(36234);const N=()=>{var e;const t=null===(e=(0,V.O)().data)||void 0===e?void 0:e.topBanner;return(0,h.tZ)(L.ZP,{badge:t,padding:"20px 16px"})};var W=r(19096),H=r(8444),j=r(72403),q=r(94963),X=r(42885),G=r(24180);const F=(0,a.zo)("ul",{listStyle:"none",margin:0,padding:0}),K=(0,a.zo)("li",(e=>{let{$theme:t,$isMobile:r}=e;return{padding:"16px",whiteSpace:"nowrap",":hover":{background:r?t.colors.menuFillHover:t.colors.backgroundSecondary},display:"flex",justifyContent:"space-between",cursor:"pointer",borderBottom:"1px solid ".concat(t.colors.borderOpaque),":last-of-type":{borderBottom:"none"}}})),Q=e=>{let{isMobile:t,index:r,cartView:l,onCartSelect:a,setCurrentCartsView:c,setMealPlanUUID:d}=e;const s=(0,n.k6)(),u=(0,o.TH)(),p=i.useRef(null),g=(0,q.Z)(p),{setActiveCartViewForRepeatOrder:v}=(0,H.Z)();return(0,h.tZ)(K,{ref:p,role:"menuitem",$isMobile:t,onClick:e=>{switch(l.action){case"OPEN_CHECKOUT":{var i,n,o,p,h;const e=(null===(i=l.metadata)||void 0===i||null===(n=i.openCheckoutMetadata)||void 0===n?void 0:n.draftOrderUUID)||(null===(o=l.metadata)||void 0===o||null===(p=o.openCheckoutMetadata)||void 0===p||null===(h=p.bundleGroupMetadata)||void 0===h?void 0:h.primaryDraftOrderUUID);e&&a(e,r);break}case"OPEN_REPEAT_ORDER_VIEW":if(v(l),t)return void s.push((0,j.ejR)(u));c("repeat_group_order"),e.stopPropagation();break;case"OPEN_MEAL_PLAN_VIEW":{var g,f;const r=null===(g=l.metadata)||void 0===g||null===(f=g.openMealPlanViewMetadata)||void 0===f?void 0:f.mealPlanUUID;if(t)return void s.push((0,G.Q8)(u,r));d(r),c("meal_plan"),e.stopPropagation();break}default:a(l.draftOrderUUID,r)}},children:(0,h.tZ)(A,{isMobile:t,isHovering:g,cartView:l})})},Y=e=>{var t,r;const i=null===(t=(0,V.O)())||void 0===t||null===(r=t.data)||void 0===r?void 0:r.carts,[n,o]=(0,l.useState)(null),[a,c]=(0,l.useState)(""),d=(0,l.useCallback)((()=>(0,h.BX)(h.HY,{children:[(0,h.tZ)(N,{}),(0,h.tZ)(F,{role:"menu",children:null==i?void 0:i.map(((t,r)=>(0,h.tZ)(Q,{index:r,isMobile:e.isMobile,cartView:t,setCurrentCartsView:o,setMealPlanUUID:c,onCartSelect:e.onCartSelect},t.draftOrderUUID)))})]})),[i,e]);return e.isMobile?d():"repeat_group_order"===n?(0,h.tZ)(W.Z,{onBackClick:()=>{o(null)},onCartSelect:e.onCartSelect}):"meal_plan"===n?(0,h.tZ)(X.Z,{mealPlanUUID:a,onBackClick:()=>{o(null),c("")},onCartSelect:e.onCartSelect}):d()}},92922:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(43193),l=r(19474);const n=()=>{const e=(0,l.ZP)();return i.useCallback(((t,r)=>{e("eats:carts_list_cart_click",{multicart:{index:r,draftOrderUuid:t}})}),[e])}},93576:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var i=r(49608),l=r(2720),n=r(23773),o=r(97802),a=r(80130),c=r(33990);const d=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flex:1,alignItems:"center",flexDirection:"column",justifyContent:"center",paddingTop:t.sizing.scale800,paddingBottom:t.sizing.scale800}})),s=(0,o.zo)(a.Z,{width:"175px",height:"175px"});function u(e){let{message:t}=e;const o=(0,n.T)();return(0,c.BX)(d,{children:[(0,c.tZ)(s,{src:(0,i.pZ)(r(82068))}),(0,c.tZ)(l.fH,{marginTop:"0",marginBottom:"12px",children:o("eats.rgo.get_carts_view_for_eater.no_open_carts")}),(0,c.tZ)(l.Yl,{children:t})]})}},79733:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var i=r(70300),l=r(97802),n=r(33990);const o=(0,l.zo)("div",{display:"flex",flexDirection:"column",alignItems:"center",maxWidth:"410px",padding:"24px",margin:"0 auto",whiteSpace:"normal"}),a=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.HeadingSmall,marginBottom:"8px"}})),c=(0,l.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),d=()=>(0,n.BX)(o,{children:[(0,n.tZ)(a,{children:(0,n.tZ)(i.v,{id:"components.genericError.title"})}),(0,n.tZ)(c,{children:(0,n.tZ)(i.v,{id:"shared.genericServerError"})})]})},19096:(e,t,r)=>{"use strict";r.d(t,{Z:()=>q});var i=r(36151),l=r(18805),n=r(58980),o=r(70300),a=r(54336),c=r(3618),d=r(97802),s=r(34597),u=r(8444),p=r(48899),h=r(49368);const g=Object.freeze({UNKNOWN:"UNKNOWN",CARTS_DROPDOWN_WEB:"CARTS_DROPDOWN_WEB"});var v=r(56850),f=r(63665),m=r(53444),y=r(56758),Z=r(79733),b=r(79840),x=r(43806),O=r(19079),I=r(75433),w=r(72403),C=r(68527),z=r(93576),U=r(2947),P=r(33990);const S=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",...t.typography.LabelLarge}})),_=(0,d.zo)("div",{height:"64px",width:"64px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0}),k=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:1,alignItems:"center",paddingRight:t.sizing.scale800,minWidth:"0"}})),D=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,color:t.colors.contentPrimary,flexGrow:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",maxWidth:"100%"}})),M=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,paddingLeft:t.sizing.scale800}})),R=(0,d.zo)("div",(e=>{let{$isMobile:t}=e;return{overflow:"auto",maxHeight:t?"calc(75vh - ".concat(66,"px)"):"288px"}})),$=(0,d.zo)("ul",{display:"flex",flexDirection:"column",listStyle:"none"}),B=(0,d.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{padding:"".concat(t.sizing.scale600," ").concat(t.sizing.scale600," ").concat(t.sizing.scale300," ").concat(t.sizing.scale600),textAlign:"rtl"===r?"right":"left"}})),E=(0,d.zo)("li",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),T=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexShrink:0,height:t.sizing.scale1600,width:t.sizing.scale1600,margin:t.sizing.scale600,borderRadius:"50%",overflow:"hidden",position:"relative"}})),A=(0,d.zo)("div",{position:"absolute",top:0,left:0,right:0,bottom:0}),V=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",alignItems:"center",flexGrow:1,minWidth:"0",minHeight:"95px",overflow:"hidden",borderBottom:"1px solid ".concat(t.colors.borderOpaque)}})),L=(0,d.zo)("div",(e=>{let{$direction:t}=e;return{minWidth:"0",display:"flex",flexDirection:"column",flexGrow:1,textAlign:"rtl"===t?"right":"left"}})),N=(0,d.zo)("div",{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}),W=(0,d.zo)("div",{display:"flex",flexShrink:0,alignItems:"center",flexDirection:"row",paddingRight:"24px",paddingLeft:"16px"}),H=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentInversePrimary,borderRadius:"50%",backgroundColor:"black",height:"24px",width:"24px",marginRight:"16px",display:"flex",justifyContent:"center",alignItems:"center"}})),j=(0,d.zo)(l.rU,(e=>{let{$theme:t}=e;return{color:t.colors.action,...t.typography.LabelMedium}})),q=e=>{let{onBackClick:t,onCartSelect:r,isMobile:l}=e;const d=(0,n.TH)(),q=(0,i.useRef)(!1),{repeatOrderTemplateUUIDs:X}=(0,u.Z)(),{isRepeatOrderParticipant:G,billSplitOption:F}=(0,O.Z)(X[0]),K=1===X.length,Q=(0,I.ci)({repeatOrderTemplateUUIDs:X,screenID:g.CARTS_DROPDOWN_WEB}),{handleRepeatOrderClick:Y}=(0,x.G)(),{closeSidebarCart:J,closeCartDropdown:ee}=(0,C.Lb)(),{logSelectRepeatOrderCartView:te}=(0,U.E)();(0,i.useEffect)((()=>{Q.isError&&Q.remove()}),[Q,Q.isError]),(0,i.useEffect)((()=>{F&&!q.current&&(te(X,G,F),q.current=!0)}),[F,G,te,X]);const re=e=>{const t=(0,w.saK)(d,1===X.length?X[0]:void 0);return G?(0,P.tZ)(j,{to:t,onClick:()=>{ee(),J()},children:(0,P.tZ)(o.v,{id:"carousel.see_all"})}):K?[...null!=e?e:[]].reverse().map(((e,t)=>{let{button:r,action:i}=e;return r?(0,P.tZ)(m.Z,{viewModel:r,onClick:()=>Y(i)},t):null})):(0,P.tZ)(j,{to:t,onClick:()=>{ee(),J()},children:(0,P.tZ)(o.v,{id:"go.manage"})})},ie=(0,h.gm)();return(0,P.tZ)(s.a,{source:Q,loaded:e=>{var i;return(0,P.BX)(P.HY,{children:[(0,P.BX)(S,{children:[(0,P.tZ)(_,{onClick:e=>{e.stopPropagation(),null==t||t()},children:(0,P.tZ)(a.Z,{})}),(0,P.BX)(k,{children:[(0,P.tZ)(D,{$direction:ie,children:e.title}),(0,P.tZ)(M,{children:re(e.navigationBarButtons)})]})]}),(0,P.tZ)(p.Z,{$height:"2px",$margin:"0"}),(0,P.tZ)(R,{$isMobile:l,children:e.emptyCartMessage?(0,P.tZ)(z.Z,{message:e.emptyCartMessage}):null===(i=e.sections)||void 0===i?void 0:i.map(((e,t)=>{var i;return(0,P.BX)($,{children:[K?null:(0,P.tZ)(B,{$direction:ie,children:(0,P.tZ)(v.ZP,{text:e.title})}),null===(i=e.rows)||void 0===i?void 0:i.map(((e,t)=>(0,P.BX)(E,{onClick:()=>{var i,l;"openCheckout"===(null===(i=e.tapAction)||void 0===i?void 0:i.type)&&null!==(l=e.tapAction.openCheckout)&&void 0!==l&&l.draftOrderUUID&&r(e.tapAction.openCheckout.draftOrderUUID,t)},children:[(0,P.BX)(T,{children:[(0,P.tZ)(f.SZ,{richIllustration:e.leadingIllustration}),(0,P.tZ)(A,{children:(0,P.tZ)(b.XO,{})})]}),(0,P.BX)(V,{children:[(0,P.tZ)(L,{$direction:ie,children:[e.title,e.tagLine1,e.tagLine2].map(((e,t)=>e?(0,P.tZ)(N,{children:(0,P.tZ)(v.ZP,{text:e,whiteSpace:"nowrap"})},t):null))}),(0,P.BX)(W,{children:[void 0!==e.itemCount?(0,P.tZ)(H,{children:e.itemCount}):null,(0,P.tZ)(c.Z,{size:12,color:"primary400"})]})]})]},t)))]},t)}))})]})},loading:()=>(0,P.tZ)(y.ZP,{}),error:()=>(0,P.tZ)(Z.Z,{})})}},2947:(e,t,r)=>{"use strict";r.d(t,{E:()=>n});var i=r(19474),l=r(49321);const n=()=>{const e=(0,i.ZP)();return{logConsolidatedViewRowClick:(t,r)=>{e("eats:repeat_order_consolidated_view_row_click",{repeatOrderTemplateUUID:t,isParticipant:r})},logSingleRGORowClick:(t,r)=>{e("eats:repeat_order_single_row_click",{repeatOrderTemplateUUID:t,isParticipant:r})},logSkipRGOClick:t=>{e("eats:repeat_order_skip_click",{repeatOrderTemplateUUID:t})},logDeleteRGOClick:t=>{e("eats:repeat_order_delete_click",{repeatOrderTemplateUUID:t})},logCancelRGOClick:(t,r)=>{e("eats:repeat_order_cancel_click",{repeatOrderTemplateUUID:t,cancelType:r})},logSkipRGOButtonClick:t=>{e("eats:repeat_order_skip_button",{repeatOrderTemplateUUID:t})},logDeleteRGOButtonClick:t=>{e("eats:repeat_order_delete_button",{repeatOrderTemplateUUID:t})},logCancelRGOButtonClick:t=>{e("eats:repeat_order_cancel_button",{repeatOrderTemplateUUID:t})},logSelectRepeatOrderCartView:(t,r,i)=>{e("eats:repeat_order_cart_view_click",{repeatOrderTemplateUUID:t.join(","),rgoType:t.length>1?l.lM.consolidated:l.lM.single,billSplitOption:i,isParticipant:r})}}}},44139:(e,t,r)=>{e.exports=r.p+"4e76c3bddd07ac48.svg"},82068:(e,t,r)=>{e.exports=r.p+"a023a017672c2488.svg"}}]);