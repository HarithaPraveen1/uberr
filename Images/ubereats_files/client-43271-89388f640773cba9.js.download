"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[43271,6053,30246],{__fusion__435:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(43193)),n=["title","titleId","size"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,o,i=function(e,t){if(null==e)return{};var r,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var d=i.forwardRef((function(e,t){var r=e.title,o=void 0===r?"Delivery bag two":r,l=e.titleId,d=e.size,c=void 0===d?"1em":d,u=s(e,n);return i.createElement("svg",a({width:c,height:c,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":l},u),void 0===o?i.createElement("title",{id:l},"Delivery bag two"):o?i.createElement("title",{id:l},o):null,i.createElement("path",{d:"M21 7V2h-6v3h3v11c0 1.54-.59 2.94-1.54 4H20c2.21 0 4-1.79 4-4V7h-3Z",fill:"currentColor"}),",",i.createElement("path",{d:"M13 2H3v5H0v9c0 2.21 1.79 4 4 4h8c2.21 0 4-1.79 4-4V7h-3V2ZM6 7V5h4v2H6Z",fill:"currentColor"}))}));t.default=d},__fusion__416:(e,t,r)=>{function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=n?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}i.default=e,r&&r.set(e,i);return i}(r(43193)),n=["title","titleId","size"];function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var r,o,i=function(e,t){if(null==e)return{};var r,o,i={},n=Object.keys(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(o=0;o<n.length;o++)r=n[o],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var d=i.forwardRef((function(e,t){var r=e.title,o=void 0===r?"Home":r,l=e.titleId,d=e.size,c=void 0===d?"1em":d,u=s(e,n);return i.createElement("svg",a({width:c,height:c,viewBox:"0 0 24 24",fill:"none",ref:t,"aria-labelledby":l},u),void 0===o?i.createElement("title",{id:l},"Home"):o?i.createElement("title",{id:l},o):null,i.createElement("path",{d:"M12 1 2 10.1V23h7v-8h6v8h7V10.1L12 1Z",fill:"currentColor"}))}));t.default=d},77205:(e,t,r)=>{r.d(t,{Z:()=>h});var o=r(36151),i=r(26880),n=r(38627);function l(e){const{$size:t,$theme:r}=e,o=r.sizing.scale1000,i=t||o;return r.sizing[i]||i}const a=(0,n.zo)("img",(e=>{const t=l(e);return{borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxSizing:"border-box",display:e.$imageLoaded?"block":"none",height:t,width:t,objectFit:"cover"}}));a.displayName="Avatar";const s=(0,n.zo)("div",(e=>({...e.$theme.typography.font300,color:e.$theme.colors.contentInversePrimary,alignItems:"center",display:"flex",justifyContent:"center",height:"100%"})));s.displayName="Initials";const d=(0,n.zo)("div",(e=>{const{$didImageFailToLoad:t}=e,r=l(e);return{backgroundColor:t?e.$theme.colors.backgroundInversePrimary:null,borderTopLeftRadius:"50%",borderTopRightRadius:"50%",borderBottomRightRadius:"50%",borderBottomLeftRadius:"50%",boxSizing:"border-box",display:"inline-block",height:t?r:null,width:t?r:null}}));d.displayName="Root";var c=r(33990);function u(e){return e.split(" ").map((e=>e[0])).slice(0,2).join("").toUpperCase()}function h(e){let{initials:t,name:r="",overrides:n={},size:l="scale1000",src:h}=e;const p=o.useRef(null),[g,m]=o.useState(!1);function v(){m(!0)}function Z(){m(!1)}o.useEffect((()=>(m(!1),p.current&&"string"==typeof h&&(p.current.src=h,p.current.onload=v,p.current.onerror=Z),()=>{p.current&&(p.current.onload=null,p.current.onerror=null)})),[h]);const[y,f]=(0,i.jb)(n.Avatar,a),[x,b]=(0,i.jb)(n.Initials,s),[w,S]=(0,i.jb)(n.Root,d);return(0,c.BX)(w,{"aria-label":g?null:r,role:g?null:"img",$didImageFailToLoad:!g,$size:l,"data-baseweb":"avatar",...S,children:[(0,c.tZ)(y,{ref:p,alt:r,$imageLoaded:g,$size:l,...f}),!g&&(0,c.tZ)(x,{...b,children:t||u(r)})]})}},32497:(e,t,r)=>{r.d(t,{Z:()=>ue});var o=r(21954),i=r(43254),n=r(36151),l=r(43193),a=r(23773),s=r(70300),d=r(49608),c=r(7903),u=r(75057),h=r(84068),p=r(97802),g=r(68527),m=r(29560),v=r(60938),Z=r(67395),y=r(19474),f=r(78555),x=r(13956),b=r(46119),w=r(8444),S=r(17142),C=r(49368),_=r(4132),$=r(88965),k=r(49450),I=r(94963),O=r(97174),B=r(98306),z=r(66970),P=r(33990);const D=Math.round(555.5),L=(0,p.zo)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,position:"relative"}))),T=(0,p.zo)("div",(e=>{let{$theme:t,$isOverlapping:r,$isLoading:o}=e;return{...o?{...(0,S.Z)({$theme:t}),backgroundSize:"100vw 100%"}:{backgroundColor:t.colors.buttonPrimaryFill},display:"flex",flexDirection:"row",alignItems:"stretch",cursor:"pointer",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,overflow:"hidden",boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...t.typography.LabelMedium,whiteSpace:"nowrap"}})),H={display:"flex",flexDirection:"row",alignItems:"center"},R=(0,p.zo)("div",H),M=24,U=(0,p.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"".concat(M,"px"),height:"".concat(48,"px"),background:"radial-gradient(circle at ".concat("ltr"===r?"100%":"0%",", transparent ").concat(M,"px, ").concat(t.colors.backgroundPrimary," ").concat(M,"px)")}})),E=(0,p.zo)("div",(e=>{let{$theme:t,$direction:r}=e;return{width:"".concat(M,"px"),height:"".concat(48,"px"),background:"radial-gradient(circle at ".concat("ltr"===r?"0%":"100%",", transparent ").concat(M,"px, ").concat(t.colors.backgroundPrimary," ").concat(M,"px)")}})),X=(0,p.zo)("button",(e=>{let{$theme:t,$isDualButtons:r}=e;return{...H,padding:r?"14px 16px 14px 12px":"8px 16px",...(0,v.x)({$theme:t})}})),A=(0,p.zo)("button",(e=>{let{$theme:t,$isDualButtons:r}=e;return{...H,padding:r?"14px 12px 14px 8px":"8px 16px 8px 8px",...(0,v.x)({$theme:t})}})),F=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{height:"".concat(32,"px"),width:"".concat(32,"px"),flexShrink:0,borderRadius:t.borders.radiusFull,overflow:"hidden",position:"relative"}})),q=(0,p.zo)("img",{height:"".concat(32,"px"),width:"".concat(32,"px"),objectFit:"cover",flexShrink:0}),V=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{width:"1.5px",margin:"12px 0",background:t.colors.contentSecondary}})),j=(0,p.zo)("div",(e=>{let{$theme:t,$isOverlapping:r}=e;return{background:t.colors.menuFill,color:t.colors.contentPrimary,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",top:r?"64px":t.sizing.scale1000,right:"0",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:"".concat(D,"px"),overflow:"auto",zIndex:b.I_.modal}})),G=(0,p.zo)("div",(e=>{let{$theme:t,$isHovering:r}=e;return{borderRadius:"50%",width:t.sizing.scale950,height:t.sizing.scale950,position:"absolute",left:"-".concat(t.sizing.scale0),...r?{backgroundColor:t.colors.buttonPrimaryHover}:{backgroundColor:t.colors.buttonPrimaryFill}}})),Q=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",position:"relative",width:t.sizing.scale1400}})),N=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{position:"absolute",left:t.sizing.scale750}})),Y=(0,p.zo)("div",{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"}),W=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,position:"absolute",width:t.sizing.scale950,height:t.sizing.scale950,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",backgroundColor:"rgba(0, 0, 0, 0.5)"}})),K=e=>e.storeImage.length>1?(0,P.BX)(Q,{children:[(0,P.tZ)("div",{children:(0,P.tZ)(F,{children:(0,P.tZ)(q,{src:e.storeImage[0],alt:"store"})})}),(0,P.tZ)(N,{children:(0,P.BX)(Y,{children:[(0,P.tZ)(G,{$isHovering:e.isHovering}),(0,P.tZ)(F,{children:(0,P.tZ)(q,{src:e.storeImage[1],alt:"store"})}),e.storeImage.length>2?(0,P.BX)(W,{children:["+",e.storeImage.length-1]}):null]})})]}):(0,P.tZ)(F,{children:(0,P.tZ)(q,{src:e.storeImage[0],alt:"store"})}),J=e=>{var t;let{isOverlapping:i,floatingMenuOpen:p,handleFloatingMenuOpen:v}=e;const{toggleSidebarCartVisible:b,headerCartDropdownVisible:S,setHeaderCartDropdownVisible:D}=(0,g.Lb)(),{totalOrders:H,cartViews:M,activeDraftOrderUUID:F,currentStoreDraftOrderUUID:q,draftOrders:G,draftOrderUUIDs:Q,setActiveDraftOrder:N}=(0,Z.Z)(),{isDelegatedBooking:Y}=(0,z.W)(),{bundleGroupUUID:W,isBundledOrder:J}=(0,O.Dz)(),ee=(0,y.ZP)(),te=(0,a.T)(),{toggleIsDropdownOpen:re,dropdownRef:oe,isDropdownOpen:ie,onCartSelect:ne}=(0,x.Z)({isDropdownOpen:null!=p?p:S,setIsDropdownOpen:null!=v?v:D}),le=(0,c.UO)(),ae=(0,$.Z)({encodedStoreUuid:null==le?void 0:le.encodedStoreUuid}),{isEditOrder:se,currentUserItemCount:de,isRepeatGroupOrder:ce}=(0,o.Z)(ae),ue=Boolean(q),he=(0,C.gm)(),pe=(0,B.q)(),ge=W||q||F,me=(0,n.useMemo)((()=>M.find((e=>{var t,r,o;return e.draftOrderUUID===ge||(null===(t=e.metadata)||void 0===t||null===(r=t.openCheckoutMetadata)||void 0===r||null===(o=r.bundleGroupMetadata)||void 0===o?void 0:o.bundleGroupUUID)===ge}))),[M,ge]),ve=l.useRef(null),Ze=(0,I.Z)(ve),ye=(0,d.pZ)(r(44139)),fe=null!=me&&null!==(t=me.storeImageUrls)&&void 0!==t&&t.length?null==me?void 0:me.storeImageUrls:J?[ye,ye]:[ye],xe=H>1||ue&&ce,be=Boolean(ue&&xe);l.useEffect((()=>{ee("eats:multicart_cart_pill",{...J?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})}),[ee,J]);const we=1===H?(0,P.tZ)(s.v,{id:"shared.numCartsSingular",data:{numCarts:H}}):(0,P.tZ)(s.v,{id:"shared.numCarts",data:{numCarts:H}}),Se=J?pe:de,Ce=1===de?(0,P.tZ)(s.v,{id:"shared.numCartItemsSingular",data:{numCartItems:Se}}):(0,P.tZ)(s.v,{id:"shared.numCartItems",data:{numCartItems:Se}}),{isRepeatOrderCartView:_e}=(0,w.Z)();return(0,P.BX)(L,{ref:oe,$isVisible:!0,children:[(0,P.tZ)(u.ZP,{$width:"24px"}),(0,P.tZ)(T,{$isOverlapping:i,$isLoading:!G.hasLoaded,children:G.hasLoaded?(0,P.BX)(P.HY,{children:[ue||se?(0,P.BX)(A,{ref:ve,"data-test":"items-button",$isDualButtons:be,type:"button",onClick:()=>{N(q||""),b(),ee("eats:cart_cta_click",{isMulticart:!0,...J?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})},children:[(0,P.tZ)(K,{storeImage:fe,isHovering:Ze}),(0,P.tZ)(u.ZP,{$width:"8px"}),Ce]}):null,ue&&!xe||se?null:(0,P.BX)(P.HY,{children:[be?(0,P.tZ)(V,{}):null,(0,P.BX)(X,{"data-test":"cart-btn",$isDualButtons:be,"aria-label":te("multicart.carts"),type:"button",onClick:()=>{if(0===H)b();else if(1!==H||_e(M[0])||(0,k.ed)(M[0]))re();else if(Y)b();else{var e,t,r,o,i;const n=null===(e=M[0])||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.openCheckoutMetadata,l=null!==(r=null!==(o=null==n?void 0:n.draftOrderUUID)&&void 0!==o?o:null==n||null===(i=n.bundleGroupMetadata)||void 0===i?void 0:i.primaryDraftOrderUUID)&&void 0!==r?r:Q[0];N(l),b()}ee("eats:cart_cta_click",{isMulticart:!0})},children:[(0,P.tZ)(m.Z,{size:20}),(0,P.tZ)(u.ZP,{$width:"8px"}),ue?null:we,xe?(0,P.BX)(P.HY,{children:[ue?null:(0,P.tZ)(u.ZP,{$width:"8px"}),(0,P.tZ)(f.Z,{size:12})]}):null]}),ie?(0,P.tZ)(j,{$isOverlapping:i,children:(0,P.tZ)(_.Z,{onCartSelect:(e,t)=>{ne(e,t),b()},isMobile:!1})}):null]})]}):(0,P.BX)(R,{children:[(0,P.tZ)(U,{$direction:he}),(0,P.tZ)(h.CB,{$width:"80px"}),(0,P.tZ)(E,{$direction:he})]})})]})};var ee=r(81584),te=r(54882),re=r(57441);const oe=e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingSecondaryInverseText,background:t.colors.onlineOrderingSecondaryInverse,...r?(0,te.Z)(t):{":hover":{background:t.colors.onlineOrderingSecondaryInverseHover},":active":{background:t.colors.onlineOrderingSecondaryInverseActive},...(0,re.Z)(t)}}};var ie=r(72611),ne=r(45531),le=r(85344);const ae=(0,p.zo)("div",(e=>({display:"flex",transition:"max-width 400ms ease, opacity 400ms ease 100ms",maxWidth:e.$isVisible?"300px":0,opacity:e.$isVisible?1:0,overflow:"hidden",position:"relative"}))),se=(0,p.zo)("button",(e=>{let{$theme:t,$isOverlapping:r,$isOnlineOrdering:o}=e;return{display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",padding:"8px 12px",height:b.GC,borderRadius:t.borders.pillButtonBorderRadius,boxShadow:r?t.shadows.filterCard:"none",margin:r?"24px 16px":0,...o?oe({$theme:t}):(0,v.x)({$theme:t}),...t.typography.LabelSmall}})),de=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{marginLeft:t.sizing.scale300,whiteSpace:"nowrap"}})),ce=e=>{var t;let{isOverlapping:r}=e;const n=(0,i.Z)(),{serverCart:l}=(0,O.iQ)(),{toggleSidebarCartVisible:a}=(0,g.Lb)(),d=(null===(t=l.data)||void 0===t?void 0:t.items)||[],c=(0,ee.dH)(d),{isDraftOrderParticipant:h,isBillSplitOrder:p}=(0,o.Z)(),v=(0,ie.Z)(),Z=(0,y.ZP)(),f=(0,le.Z)(),x=(0,ne.Z)();return n&&(!h||v||f&&p)?(0,P.BX)(ae,{$isVisible:!0,children:[(0,P.tZ)(u.ZP,{$width:"24px"}),(0,P.BX)(se,{"data-test":"cart-btn",$isOverlapping:r,type:"button","aria-label":"checkout",onClick:()=>{a(),Z("eats:cart_cta_click")},$isOnlineOrdering:x,children:[(0,P.tZ)(m.Z,{size:16}),(0,P.BX)(de,{children:[(0,P.tZ)(s.v,{id:"shared.cart"})," • ",c]})]})]}):null},ue=e=>{let{isOverlapping:t=!1,floatingMenuOpen:r,handleFloatingMenuOpen:n}=e;const l=(0,i.Z)(),a=(0,ie.Z)(),{isDraftOrderParticipant:s,isBillSplitOrder:d}=(0,o.Z)(),c=(0,le.Z)();return(l||a)&&(!s||a||c&&d)?a?(0,P.tZ)(J,{isOverlapping:t,floatingMenuOpen:r,handleFloatingMenuOpen:n}):(0,P.tZ)(ce,{isOverlapping:t}):null}},97425:(e,t,r)=>{r.d(t,{Z:()=>oe});var o=r(60188),i=r(36151),n=r(18805),l=r(7903),a=r(44815),s=r(70300),d=r(97802),c=r(68527),u=r(21954),h=r(13597),p=r(50289),g=r(487),m=r(17308),v=r(16789),Z=r(46119),y=r(26233),f=r(420),x=r(40668),b=r(72403),w=r(72003),S=r(96614),C=r(2429),_=r(97174),$=r(75057),k=r(25447),I=r(54947),O=r(19474),B=r(47142),z=r(29560),P=r(33990);const D=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{padding:t.sizing.scale1600,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"}})),L=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,marginTop:"16px",textAlign:"center"}})),T=()=>(0,P.BX)(D,{children:[(0,P.tZ)(z.Z,{size:44,color:"contentInverseTertiary"}),(0,P.tZ)(L,{children:(0,P.tZ)(s.v,{id:"shared.emptycartmessage"})})]});var H=r(66056),R=r(79111),M=r(63384),U=r(9175),E=r(41802),X=r(75692),A=r(88965),F=r(91377),q=r(85344),V=r(58980),j=r(26644),G=r(71367),Q=r(16688);const N=(0,d.zo)("div",(e=>{let{$theme:t,$isClosing:r}=e;return{position:"fixed",top:"62px",right:"82px",width:"432px",zIndex:Z.I_.modal,background:t.colors.backgroundPrimary,boxShadow:t.shadows.box,transition:"opacity ".concat(500,"ms"),opacity:r?0:1,color:t.colors.contentPrimary}})),Y=(0,d.zo)("div",{maxHeight:"calc(100vh - 150px)",overflowY:"scroll"}),W=(0,d.zo)("div",{padding:"0 ".concat(24,"px")}),K=(0,d.zo)("div",{paddingTop:"16px",display:"flex"}),J=(0,d.zo)("div",(e=>e.$theme.typography.DisplayXSmall)),ee=(0,d.zo)(n.rU,(e=>({...e.$theme.typography.ParagraphSmall,color:e.$theme.colors.contentSecondary}))),te=(0,d.zo)("div",{display:"flex",alignItems:"center"}),re=(0,d.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,display:"inline"}})),oe=()=>{var e,t,r;const n=(0,V.TH)(),d=a.parse(n.search)[b.FSm.cartDisplay],[Z,z]=(0,i.useState)(!1),{cartRef:D,sidebarCartVisible:L,sidebarCartClosing:oe,openSidebarCart:ie,closeSidebarCart:ne,hideSidebarCart:le}=(0,c.Lb)({transitionMS:500}),{isDraftOrderCreator:ae,isDraftOrderParticipant:se,hasGroupOrder:de,isDraftOrderCartLocked:ce,isBillSplitOrder:ue,orderDisplayName:he}=(0,u.Z)(),{title:pe,storeTitle:ge,restaurantLink:me,restaurantLinkNode:ve}=(0,v.Z)(),{elementRef:Ze,isStuck:ye}=(0,f.Z)(),fe=(0,i.useRef)(null),{serverCart:xe}=(0,_.iQ)(),be=null===(e=xe.data)||void 0===e?void 0:e.storeUuid,{store:we}=(0,C.Z)(be),Se=(0,I.Z)(),Ce=(0,V.UO)(),_e=(0,A.Z)({encodedStoreUuid:Ce.encodedStoreUuid}),$e=(0,l.k6)(),ke=(0,X.Z)(),Ie=Boolean(ke),Oe="postmates"===Se,Be=(0,O.ZP)(),ze=!(null!==(t=xe.data)&&void 0!==t&&t.items.length),{guestCheckoutEnabled:Pe}=(0,U.Z)(),De=(0,F.xZ)(),Le=(0,Q.Z)("canonical_product_smart_cart");(0,i.useEffect)((()=>{if(d){var e;clearTimeout(null!==(e=fe.current)&&void 0!==e?e:void 0),ie();const t=setTimeout((()=>{z(!0)}),300);return()=>{clearTimeout(t)}}z(!0)}),[d,ie]),(0,i.useEffect)((()=>{if("undefined"==typeof o.Z||oe)return;const e=()=>{Z&&!oe&&ne()};return o.Z&&o.Z.addEventListener("scroll",e),()=>{o.Z&&o.Z.removeEventListener("scroll",e)}}),[Z,ne,oe]),(0,i.useEffect)((()=>le),[le]);const Te=(0,q.Z)();return(0,i.useEffect)((()=>{var e;L&&Be("eats:cart_view",{storeUuid:null===(e=we.data)||void 0===e?void 0:e.uuid,cartView:De})}),[L,Be,we]),L&&(!se||Te&&ue)?(0,P.tZ)(N,{ref:D,$isClosing:oe,children:(0,P.BX)(Y,{"data-test":"cart",children:[ae&&ce?(0,P.tZ)(R.c,{children:(0,P.tZ)(re,{children:(0,P.tZ)(s.v,{id:"go.unlock_cart_warning_text_2"})})}):null,(0,P.tZ)(x.Z,{hasCloseButton:!0,headerRef:Ze,isStuck:ye,onClose:ne,title:de&&he||ge,...ae?{topRightIconButton:{icon:(0,P.tZ)(H.Z,{color:"black"}),onClick:()=>$e.push((0,b.vN_)(n,"shareGroupOrder"))}}:{}}),ze&&!ae?(0,P.tZ)(T,{}):(0,P.BX)(W,{children:[(0,P.tZ)(m.ZP,{$height:24}),(0,P.tZ)(J,{"data-test":"cart-header",children:ae?pe:ge}),Le?(0,P.tZ)(j.C,{}):null,ae?(0,P.BX)(P.HY,{children:[(0,P.tZ)(m.ZP,{$height:16}),(0,P.BX)(te,{children:[(0,P.tZ)(ee,{to:me,onClick:()=>{Be("eats:click_store_link",{source:"cart"})},children:ve}),(0,P.tZ)(k.Z,{})]})]}):null,(0,P.tZ)(K,{children:(0,P.BX)(B.Z,{separator:$.sA,children:[ae||_e===be?null:(0,P.tZ)(w.Z,{source:"cart"}),de||null!==(r=we.data)&&void 0!==r&&r.isGroupOrderingDisabled||Oe||Pe?null:(0,P.tZ)(S.Z,{store:we})]})}),Ie?(0,P.tZ)(E.Q,{$spaceBefore:32}):(0,P.tZ)(m.ZP,{$height:16}),ae||Te&&ue?(0,P.BX)(P.HY,{children:[(0,P.tZ)(M.Z,{gutterWidth:24}),(0,P.tZ)(h.Z,{gutterWidth:24,showAddGuestsBtn:!1,showFacePile:!0,showRemoveParticipantButton:!0})]}):(0,P.tZ)(P.HY,{children:(0,P.tZ)(p.Z,{disableGroupOrder:!0})}),(0,P.BX)(g.Z,{children:[we.data?(0,P.tZ)(G.Z,{store:we.data}):null,(0,P.tZ)(y.Z,{})]})]})]})}):null}},487:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(97802),i=r(28458),n=r(17308),l=r(72611),a=r(33990);const s=(0,o.zo)("div",(e=>{let{$theme:t,$isInMulticart:r}=e;return{padding:"24px",position:r?"sticky":"absolute",bottom:0,left:0,right:0,...t.overlays.floatingButtonGradient}}));function d(e){const[t,r]=(0,i.Z)(),o=(0,l.Z)();return(0,a.BX)(a.HY,{children:[o?null:(0,a.tZ)(n.ZP,{$height:(null==t?void 0:t.height)||0}),(0,a.tZ)(s,{$isInMulticart:o,ref:r,children:e.children})]})}},79111:(e,t,r)=>{r.d(t,{c:()=>m});var o=r(43193),i=r(36151),n=r(97802),l=r(46119),a=r(35089),s=r(33990);const d=(0,n.zo)("div",{padding:"16px 24px"}),c=(0,n.zo)("div",(e=>({position:"absolute",width:"100%",top:"0",left:"0",backgroundColor:e.$theme.colors[e.$bgColor],zIndex:l.I_.modal}))),u=(0,n.zo)(a.Z,{width:"24px",height:"24px",display:"flex",position:"relative",cursor:"pointer",right:"6px"}),h=(0,n.zo)("div",{position:"relative",marginTop:"8px"}),p=((0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.onNegative}})),(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.LabelMedium}))),g=e=>{const[t,r]=o.useState(!1);(0,i.useEffect)((()=>{r(!1)}),[]);return(0,s.tZ)(s.HY,{children:t?null:(0,s.tZ)(c,{$bgColor:e.$bgColor,children:(0,s.BX)(d,{children:[(0,s.tZ)(u,{onClick:()=>{r(!0)},iconColor:e.$iconFill}),(0,s.tZ)(h,{children:e.children})]})})})},m=e=>(0,s.tZ)(g,{$bgColor:"warning",$iconFill:"onWarning",children:(0,s.tZ)(p,{children:e.children})})},82658:(e,t,r)=>{r.d(t,{Z:()=>O});var o=r(36151),i=r(18805),n=r(72403),l=r(23773),a=r(19474),s=r(85019),d=r(67383),c=r(14570),u=r(75057),h=r(97802),p=r(54882),g=r(70092),m=r(53642),v=r(57441);var Z=r(98633),y=r(56702),f=r(30719),x=r(45531),b=r(95563),w=r(7042),S=r(58980),C=r(33990);const _=e=>{let{$theme:t,$isOnlineOrdering:r,$isDisabled:o}=e;return o?(0,p.Z)(t):r?(e=>{let{$theme:t,disabled:r}=e;return{color:t.colors.onlineOrderingPrimaryInverseText,background:t.colors.onlineOrderingPrimaryInverse,...r?(0,p.Z)(t):{":hover":{background:t.colors.onlineOrderingPrimaryInverseHover},":active":{background:t.colors.onlineOrderingPrimaryInverseActive},...(0,v.Z)(t)}}})({$theme:t}):(0,m.y)({$theme:t})},$=(0,h.zo)(i.rU,(e=>{let{$size:t,$drawBorder:r,$theme:o,$isOnlineOrdering:i,$isDisabled:n}=e;return{...o.typography.LabelSmall,borderRadius:o.borders.pillButtonBorderRadius,display:"flex",flexDirection:"row",alignItems:"center",cursor:"pointer",height:"large"===t?"48px":"36px",padding:"8px 12px",boxSizing:"border-box",border:r?"1px solid ".concat(o.colors.onlineOrderingPrimaryInverseActive):void 0,..._({$theme:o,$isDisabled:n,$isOnlineOrdering:i})}})),k=(0,h.zo)("div",{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}),I=(0,h.zo)("div",{whiteSpace:"nowrap"}),O=e=>{var t,r,i;const{deliveryTime:h,deliveryLocation:p,diningMode:m}=(0,y.Z)(),v=(0,S.TH)(),_=(0,o.useContext)(w.k),O=(0,l.T)(),B=(0,a.ZP)(),z=(0,Z.WI)("header-location-button"),P=(0,x.Z)(),D=null===(t=(0,b.d1)())||void 0===t||null===(r=t.customization)||void 0===r||null===(i=r.colorInfo)||void 0===i?void 0:i.primary,{shouldOverrideLabel:L,overrideLabel:T}=(0,f.Z)(),H=e.storeUuid?JSON.stringify({storeUuid:e.storeUuid}):null;return p?(0,C.tZ)("span",{children:(0,C.BX)($,{"data-testid":"edit-delivery-location-button",ref:z,$size:e.size,$isDisabled:e.deliveryLocationPickerDisabled,to:H?(0,n.vN_)(v,"deliveryDetails",H):(0,n.vN_)(v,"deliveryDetails"),onClick:t=>{e.deliveryLocationPickerDisabled?t.preventDefault():(B("eats:delivery_details_click"),_.set("addressChangeTouched",!0))},$isOnlineOrdering:P,$drawBorder:Boolean(P&&D),children:[(0,C.tZ)(s.Z,{color:"onHeader",type:"Pin",width:"16px",ariaLabel:O("component.location_typeahead_mobile.deliver_to")}),(0,C.tZ)(u.ZP,{$width:"8px"}),L?T:(0,C.tZ)(k,{"data-testid":"delivery-address-label",children:p.address.address1}),(0,C.tZ)(c.Z,{spaces:2}),(0,C.tZ)(I,{"data-test":"delivery-time",children:"scheduled"in h?(0,C.tZ)(g.Z,{date:h.date,startTime:h.startTime,endTime:h.endTime}):(0,C.tZ)(d.Z,{shortenedTime:!0,diningMode:m})})]})}):null}},58155:(e,t,r)=>{r.d(t,{Z:()=>P});var o=r(36151),i=r(28398),n=r(97802),l=r(28353),a=r(72403),s=r(2620),d=r(13234),c=r(23773),u=r(70300),h=r(75057),p=r(22666),g=r(34597),m=r(18805),v=r(16688),Z=r(90424),y=r(36921),f=r(92036),x=r(58980),b=r(33990);const w=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{backgroundColor:t.colors.positive,color:t.colors.onPositive}})),S=(0,n.w1)(d.Z,(()=>({height:"80px",alignItems:"center"}))),C=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.DisplayXSmall,letterSpacing:"normal"}})),_=(0,n.zo)("div",(e=>{let{$theme:t}=e;return t.typography.ParagraphSmall})),$=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,padding:"0 16px"}})),k=(0,n.zo)("div",{alignItems:"center",display:"flex",position:"relative"}),I=(0,n.zo)(m.rU,{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1,alignItems:"center",height:"100%"}),O=(0,n.zo)("div",{position:"absolute",left:"-32px",display:"flex",alignItems:"center"}),B=(0,n.zo)("div",(e=>({backgroundColor:"rgba(255, 255, 255, 0.30)",minWidth:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:e.onClick?"pointer":"normal"}))),z=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center"}})),P=()=>{var e;const t=(0,x.TH)(),r=(0,c.T)(),[n,d]=o.useState(0),m=(0,i.v)((e=>{let{activeOrders:t}=e;return t})),P=(0,v.Z)("eater_message_service_banner"),D=(0,v.Z)("active_order_banner_for_guest_users_enabled"),{eaterMessage:L}=(0,Z.Z)("FEED_ANNOUNCEMENTS_TOP"),{user:T,isUnregisteredUser:H}=(0,f.Z)(),R=D&&!(null!=T&&null!==(e=T.data)&&void 0!==e&&e.isLoggedIn)&&H;return P&&!R?L?(0,b.tZ)(y.Z,{eaterMessage:L}):null:(0,b.tZ)(g.Z,{source:m,error:()=>null,loaded:e=>{var o,i;const c=Array.isArray(e.orders)?e.orders.filter((e=>e.inAppNotification)):[];if(!c.length)return null;const g=c[n]?c[n]:c[0],m=(null==g?void 0:g.uuid)||"";return(0,b.tZ)(w,{children:(0,b.tZ)(S,{children:(0,b.BX)(l.Z,{eventName:"eats:header_orders_global",eventPayload:{orderUuid:m},$as:I,to:(0,a._u3)(t,{uuid:m}),children:[(0,b.BX)(k,{children:[(0,b.tZ)(O,{children:(0,b.tZ)(s.Z,{$color:"white"})}),(0,b.tZ)(C,{children:(null==g||null===(o=g.inAppNotification)||void 0===o?void 0:o.title)||(0,b.tZ)(b.HY,{children:" "})})]}),(0,b.BX)(k,{children:[(0,b.tZ)(_,{children:(null==g||null===(i=g.inAppNotification)||void 0===i?void 0:i.subtitle)||(0,b.tZ)(b.HY,{children:" "})}),(0,b.tZ)(h.ZP,{$width:c.length>1?"24px":"40px"}),(0,b.BX)(z,{children:[(0,b.tZ)(u.v,{id:"components.activeOrdersHeader.trackOrderLink"}),(0,b.tZ)(h.ZP,{$width:"4px"}),(0,b.tZ)(p.Z,{size:16,rotate:180})]})]}),c.length>1?(0,b.BX)(k,{children:[(0,b.tZ)(B,{$as:"button",onClick:e=>{d(Math.max(0,n-1)),e.preventDefault()},"aria-label":r("shared.previous"),children:(0,b.tZ)(p.Z,{size:16})}),(0,b.tZ)(h.ZP,{$width:"2px"}),(0,b.tZ)(B,{children:(0,b.tZ)($,{children:(0,b.tZ)(u.v,{id:"activeOrder.currentPage",data:{x:n+1,y:c.length}})})}),(0,b.tZ)(h.ZP,{$width:"2px"}),(0,b.tZ)(B,{$as:"button",onClick:e=>{d(Math.min(c.length-1,n+1)),e.preventDefault()},"aria-label":r("shared.next"),children:(0,b.tZ)(p.Z,{size:16,rotate:180})})]}):null]})})})},loading:()=>null})}},6730:(e,t,r)=>{r.d(t,{Z:()=>Y});var o=r(36151),i=r(58980),n=r(23773),l=r(97802),a=r(99209),s=r(43193),d=r(85019),c=r(36260);var u=r(21465),h=r.n(u),p=r(56850),g=r(33990);const m=(0,l.zo)("div",{display:"flex",flexDirection:"column",minWidth:0}),v=(0,l.zo)("div",(e=>({borderRadius:"50%",width:"36px",height:"36px",backgroundImage:"url(".concat(h()(e.$src),")"),backgroundSize:"cover",flexShrink:0}))),Z=(0,l.zo)("div",{maxWidth:"100%",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),y=(0,l.w1)(Z,(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary}})),f=(0,l.w1)(Z,(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary}})),x=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentPrimary,display:"inline"}})),b=(0,l.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"100%",overflow:"hidden",boxSizing:"border-box",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),w=(0,l.zo)("div",(e=>{let{$isGrayedOut:t}=e;return{display:"flex",width:"100%",height:"100%",alignItems:"center",opacity:t?.6:void 0}})),S=(0,l.zo)("div",{width:"64px",height:"72px",display:"flex",flexGrow:0,flexShrink:0,boxSizing:"border-box",justifyContent:"center",alignItems:"center"});function C(e){const t=function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.query),r=new RegExp(t,"gi");let o=r.exec(e.text),i=0;const n=[];for(;e.query.length>0&&null!==o;)o.index>i&&n.push(e.text.substring(i,o.index)),n.push((0,g.tZ)(x,{children:o[0]},i)),i=o.index+o[0].length,o=r.exec(e.text);return i<=e.text.length-1&&n.push(e.text.substring(i)),(0,g.tZ)(f,{children:n})}function _(e){return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Search"})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(C,{text:e.title,query:e.query}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function $(e){return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Time"})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(Z,{children:e.title}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function k(e){return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Search"})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(Z,{children:e.title}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function I(e){let{store:t,query:r,hasBorder:o}=e;const i=Boolean(null==t?void 0:t.isOrderable),n=null==t?void 0:t.heroImageUrl,l=(null==t?void 0:t.title)||"",a=null==t?void 0:t.meta1,s=(null==t?void 0:t.categories)||[];return(0,g.BX)(w,{$isGrayedOut:!1===i,children:[(0,g.tZ)(S,{children:n?(0,g.tZ)(v,{$src:n}):null}),(0,g.BX)(b,{$hasBorder:o,children:[(0,g.BX)(m,{children:[(0,g.tZ)(C,{text:l,query:r}),a?(0,g.tZ)(p.ZP,{text:a}):(0,g.tZ)(y,{children:s.join(" • ")})]}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function O(e){let{store:t,hasBorder:r}=e;const o=null==t?void 0:t.heroImageUrl,i=null==t?void 0:t.title;return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:o?(0,g.tZ)(v,{$src:o}):null}),(0,g.BX)(b,{$hasBorder:r,children:[(0,g.tZ)(m,{children:(0,g.tZ)(x,{children:i})}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}function B(e){const t=(0,n.T)();return(0,g.BX)(w,{children:[(0,g.tZ)(S,{children:(0,g.tZ)(c.Z,{})}),(0,g.BX)(b,{$hasBorder:e.hasBorder,children:[(0,g.tZ)(f,{children:(0,g.tZ)(x,{children:t("search.your_past_orders_link")})}),(0,g.tZ)(S,{children:(0,g.tZ)(d.Z,{type:"Chevron",rotate:90,color:"contentStateDisabled"})})]})]})}var z=r(46119),P=r(19474);const D=function(e){const{suggestions:t,query:r}=e,i=(0,P.ZP)();o.useEffect((()=>{const e=t.filter((e=>"croStore"===e.type));!r&&e.length>0&&i("eats:search_bar_past_order_impression",{pastOrderStoreUuids:e.map((e=>{var t;return(null==e||null===(t=e.store)||void 0===t?void 0:t.uuid)||""})).filter(Boolean)})}),[i,t,r])},L=(0,l.zo)("ul",(e=>{let{$theme:t,$isHidden:r}=e;return{background:t.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:z.I_.banner,borderColor:t.colors.borderOpaque,borderStyle:"solid",borderWidth:"0 1px 1px 1px",boxShadow:t.shadows.box,...r?{display:"none"}:{}}})),T=(0,l.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.menuFillHover:"transparent",height:"72px",boxSizing:"border-box",cursor:"pointer",display:"flex",alignItems:"center",transition:z.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.menuFillHover}}))),H=["pastOrdersLink","croStore","text","searchHistory","popularCategory","store"];const R=function(e){(e=>{const t=(0,P.ZP)(),r=(0,o.useRef)([]);(0,o.useEffect)((()=>{e.suggestions.length&&r.current!==e.suggestions&&(r.current=e.suggestions,t("eats:search_dropdown_impression",{userQuery:e.query,result:e.suggestions.map((e=>{var t;return e.title||(null==e||null===(t=e.store)||void 0===t?void 0:t.title)||""})).join(",")}))}),[t,e.query,e.suggestions])})({query:e.query,suggestions:e.suggestions}),D({query:e.query,suggestions:e.suggestions});const t=e.suggestions.filter((e=>H.includes(e.type)));return e.suggestions.length?(0,g.tZ)(L,{...e.getMenuProps(),children:t.map(((r,o)=>{const i=o<t.length-1;return(0,g.BX)(T,{$isHighlighted:e.highlightedIndex===o,...e.getItemProps({index:o}),children:["pastOrdersLink"===r.type?(0,g.tZ)(B,{hasBorder:i}):null,"croStore"===r.type?(0,g.tZ)(O,{hasBorder:i,store:r.store}):null,"text"===r.type?(0,g.tZ)(_,{title:r.title,query:e.query,hasBorder:i}):null,"searchHistory"===r.type?(0,g.tZ)($,{hasBorder:i,title:r.title}):null,"popularCategory"===r.type?(0,g.tZ)(k,{hasBorder:i,title:r.title}):null,"store"===r.type?(0,g.tZ)(I,{query:e.query,hasBorder:i,store:r.store}):null]},o)}))}):(0,g.tZ)(L,{...e.getMenuProps(),$isHidden:!0})};var M=r(32205),U=r(57280),E=r(90717);const X=(0,l.w1)(U.Z,(e=>({...e.$width?{width:"".concat(e.$width,"px")}:{}}))),A=(0,l.zo)("label",z.E2),F=e=>{const t=s.useRef(null);(0,E.Z)(t,(()=>{e.onClickOutside&&e.onClickOutside()}),e.isOpen);const{query:r,results:o,isOpen:i,getInputProps:n,getMenuProps:l,openMenu:a,getItemProps:d,reset:c,highlightedIndex:u,placeholder:h,onFocus:p,onClose:m,height:v,width:Z,backgroundColor:y,getLabelProps:f}=e,x=i&&(null==o?void 0:o.data)||[];return(0,g.BX)(X,{$width:Z,ref:t,children:[(0,g.tZ)(A,{...f(),children:h}),(0,g.tZ)(M.Z,{onFocus:()=>{p&&p(),a()},query:r,getInputProps:n,reset:c,onClose:m,placeholder:h,isLoading:!1,iconType:"Search",backgroundColor:y||"inputFill",height:v}),(0,g.tZ)(R,{query:r,suggestions:x,getMenuProps:l,getItemProps:d,highlightedIndex:u})]})};var q=r(47256);const V=e=>{const t=(0,n.T)(),r=(0,q.d)(),o=(0,a.Z)({initialQuery:e.initialQuery,onSuggestionSelected:e.onSelect,initialIsClosed:e.initialIsClosed,searchTypeaheadPlaceholder:t("DELIVERY"===r?"shared.mutilVerticalSearchBarHint":"shared.searchPlaceholder")});return(0,g.tZ)(F,{onClose:e.onClose,onFocus:e.onFocus,onClickOutside:e.onClickOutside,...o})};var j=r(72403),G=r(34597),Q=r(50264);const N=(0,l.zo)("div",{flexGrow:1}),Y=e=>{const{onFocus:t}=e,r=(0,i.TH)(),{userQuery:l}=(0,j.RAN)(r,["userQuery"]),a=(0,n.T)(),s=(0,P.ZP)(),d=o.useCallback((()=>{s("eats:search_bar_click"),t()}),[s,t]),{feed:c}=(0,Q.Z)(),u=(0,g.tZ)(N,{role:"search","aria-label":a("shared.marketplaceSearchBarHintText"),children:(0,g.tZ)(V,{initialIsClosed:!0,onFocus:d,onClickOutside:e.clickOutside,initialQuery:l})});return(0,g.tZ)(G.Z,{source:c,error:()=>null,loaded:e=>!1===e.isInServiceArea?(0,g.tZ)(N,{}):u,loading:()=>u})}},95687:(e,t,r)=>{r.d(t,{ZP:()=>M});var o=r(97802),i=r(75057),n=r(13234),l=r(98633),a=r(90336),s=r(46119),d=r(45932),c=r(82658),u=r(45531),h=r(32497),p=r(88448),g=r(6730),m=r(71091),v=r(87975),Z=r(28817),y=r(5028),f=r(92036),x=r(97425),b=r(51818),w=r(72611),S=r(50264),C=r(32824),_=r(32487),$=r(84385),k=r(6907),I=r(51122),O=r(19474),B=r(34765),z=r(33990);const P=(0,o.w1)(n.Z,(e=>{let{$theme:t}=e;return{color:t.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:s.sd}})),D=((0,o.zo)("div",{position:"relative"}),(0,o.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,o.zo)("div",(e=>{let{$theme:t}=e;return{width:"100%",background:t.colors.backgroundPrimary}}))),L=(0,o.zo)("div",{width:"100%",maxWidth:"722px"}),T=(0,o.zo)("div",{flex:1}),H=(0,o.zo)("div",{justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),R=e=>{var t,r;let{shouldNotRedirectToHomeFeed:o,showDiningMode:n,showCart:s,isSearchFeed:R,storeUuid:M}=e;const{user:U}=(0,f.Z)(),E=(0,u.Z)(),X=(0,B.Z)(),A=(0,Z.Z)(),F=(0,O.ZP)(),q=(0,l.WI)("header-location-typeahead"),{openMenu:V,closeMenu:j,closeAndUpdate:G}=(0,m.Z)(),Q=(0,w.Z)(),{showMultiVerticalSearchSuggestions:N}=(0,_.Z)(),Y=Boolean(M),{showSigninSignup:W,campaign:K,logSignInSignUpClick:J}=(0,I.M)(Y||!1);let ee;ee=Q?(0,z.tZ)(b.Z,{startShoppingRedirect:!R&&!Y}):(0,z.tZ)(x.Z,{});const{feed:te}=(0,S.Z)(),re=(null==A||null===(t=A.address)||void 0===t?void 0:t.address1)||"";return X?(0,z.tZ)(D,{children:(0,z.tZ)(P,{children:(0,z.tZ)(d.Z,{})})}):N?(0,z.tZ)($.ZP,{shouldNotRedirectToHomeFeed:o,showDiningMode:n,showCart:s,isSearchFeed:R,showSigninSignup:W,campaign:K,logSignInSignUpClick:J,storeUuid:M}):(0,z.tZ)(D,{children:(0,z.BX)(P,{children:[E?null:(0,z.BX)(z.HY,{children:[(0,z.tZ)(y.Z,{}),(0,z.tZ)(i.ZP,{$width:"32px"}),(0,z.tZ)(d.Z,{}),(0,z.tZ)(i.ZP,{$width:"40px"})]}),A?(0,z.BX)(z.HY,{children:[n?(0,z.BX)(z.HY,{children:[(0,z.tZ)(v.Z,{isDisabled:te.isLoading}),(0,z.tZ)(i.ZP,{$width:"16px"})]}):null,(0,z.tZ)(c.Z,{size:"large",storeUuid:M}),N?(0,z.tZ)(i.ZP,{$width:"48px"}):(0,z.tZ)(i.ZP,{$width:"64px"}),E?null:(0,z.tZ)(g.Z,{onFocus:()=>{F("eats:search_bar_clicked"),V("search")},clickOutside:()=>{j()}}),N?(0,z.tZ)(i.ZP,{$width:"24px"}):null]}):(0,z.BX)(z.HY,{children:[(0,z.tZ)(i.ZP,{$width:"64px"}),(0,z.tZ)(L,{children:(0,z.tZ)(p.Z,{registerRef:q,onLocationSelected:e=>{G(e,void 0,o)},initialQuery:re,id:"header"})}),(0,z.tZ)(T,{})]}),(0,z.BX)(H,{children:[A||s?(0,z.tZ)(h.Z,{}):null,(0,z.tZ)(z.HY,{children:ee}),(0,z.tZ)(a.Z,{}),null!==(r=U.data)&&void 0!==r&&r.isLoggedIn?null:(0,z.BX)(z.HY,{children:[(0,z.tZ)(i.ZP,{$width:"24px"}),W?(0,z.tZ)(C.m,{campaign:K}):(0,z.tZ)(k.Z,{campaign:K,beforeClick:()=>J("signin","header")})]})]})]})})};R.displayName="HeaderDesktop";const M=R},35447:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(36151),i=r(65015),n=r(33990);function l(e,t){return(0,n.tZ)(i.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{d:"M18 7V2H6v5H1v15h22V7h-5zm-3 0H9V5h6v2z"})})}const a=o.forwardRef(l)},95508:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(36151),i=r(65015),n=r(33990);function l(e,t){return(0,n.tZ)(i.Z,{viewBox:"0 0 8 6",ref:t,...e,children:(0,n.tZ)("path",{d:"M8 .333v2.534L4 5.933 0 2.867V.333L4 3.4 8 .333z"})})}const a=o.forwardRef(l)},78555:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(36151),i=r(65015),n=r(33990);function l(e,t){return(0,n.tZ)(i.Z,{viewBox:"0 0 24 24",ref:t,...e,children:(0,n.tZ)("path",{d:"M22 6.9v3.8l-10 7.7-10-7.7V6.9l10 7.7 10-7.7z"})})}const a=o.forwardRef(l)},45973:(e,t,r)=>{r.d(t,{Z:()=>a});var o=r(36151),i=r(65015),n=r(33990);function l(e,t){return(0,n.tZ)(i.Z,{viewBox:"0 0 20 20",ref:t,...e,children:(0,n.tZ)("path",{d:"M18.834 17l-3.666-3.667c.916-1.333 1.5-2.916 1.5-4.666C16.667 4.333 13.083.75 8.75.75 4.417.75.834 4.333.834 8.667c0 4.333 3.583 7.916 7.917 7.916 1.75 0 3.333-.583 4.666-1.5l3.667 3.667 1.75-1.75zm-15.5-8.25c0-3 2.417-5.417 5.417-5.417s5.416 2.417 5.416 5.417-2.416 5.417-5.416 5.417c-3 0-5.417-2.417-5.417-5.417z"})})}const a=o.forwardRef(l)},45951:(e,t,r)=>{r.d(t,{Z:()=>x});var o=r(97802),i=r(70300),n=r(75057),l=r(85019),a=r(46119),s=r(35447),d=r(33990);const c=(0,o.zo)("li",(e=>({backgroundColor:e.$isHighlighted?e.$theme.colors.menuFillHover:"transparent",padding:"16px 16px",display:"flex",cursor:"pointer",transition:a.pB.itemBackground,outline:"none",":hover":{background:e.$theme.colors.menuFillHover}}))),u=(0,o.zo)("div",{alignSelf:"start"}),h=(0,o.zo)("div",{minWidth:0}),p=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,color:t.colors.contentPrimary,textOverflow:"ellipsis",overflow:"hidden"}})),g=(0,o.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall,color:t.colors.contentSecondary,textOverflow:"ellipsis",overflow:"hidden"}})),m=e=>(0,d.BX)(c,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,d.tZ)(u,{children:(0,d.tZ)(l.Z,{type:"Pin",background:!0})}),(0,d.tZ)(n.ZP,{$width:"8px"}),(0,d.BX)(h,{children:[(0,d.tZ)(p,{children:e.location.addressLine1}),(0,d.tZ)(g,{children:e.location.addressLine2})]})]}),v=e=>(0,d.BX)(c,{$isHighlighted:e.highlightedIndex===e.index,...e.getItemProps({index:e.index}),children:[(0,d.BX)(u,{children:["work"===e.taggedLocation.tag.toLowerCase()?(0,d.tZ)(s.Z,{}):null,"work"!==e.taggedLocation.tag.toLowerCase()?(0,d.tZ)(l.Z,{type:"home"===e.taggedLocation.tag?"Home":"Time",background:!0}):null]}),(0,d.tZ)(n.ZP,{$width:"8px"}),(0,d.BX)(h,{children:[(0,d.tZ)(p,{children:e.taggedLocation.address.address.title}),(0,d.tZ)(g,{children:e.taggedLocation.address.address.subtitle}),e.taggedLocation.interactionString&&e.taggedLocation.instructionNotes?(0,d.tZ)(g,{children:(0,d.tZ)(i.v,{id:"shared.taggedLocationInstructions",data:{interaction:e.taggedLocation.interactionString,notes:e.taggedLocation.instructionNotes}})}):(0,d.tZ)(g,{children:e.taggedLocation.interactionString||e.taggedLocation.instructionNotes})]})]}),Z=(0,o.zo)("li",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphMedium,padding:"16px"}})),y=e=>{let{getItemProps:t}=e;return(0,d.tZ)(Z,{...t({index:0}),children:(0,d.tZ)(i.v,{id:"shared.hmmCantFindThisAddress"})})},f=(0,o.zo)("ul",(e=>{let{$hasResults:t,$theme:r}=e;return{background:r.colors.menuFill,position:"absolute",top:"100%",left:0,right:0,zIndex:a.I_.foreground,boxShadow:r.shadows.box,...t?{paddingBottom:"8px"}:{}}})),x=e=>{let t=null,r=!1;return e.isOpen&&(e.showTryAgainMessage?t=(0,d.tZ)(y,{getItemProps:e.getItemProps}):(t=e.locations.map(((t,r)=>"isTaggedLocation"in t&&t.isTaggedLocation?(0,d.tZ)(v,{index:r,taggedLocation:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},r):"isTaggedLocation"in t?void 0:(0,d.tZ)(m,{index:r,location:t,getItemProps:e.getItemProps,highlightedIndex:e.highlightedIndex},r))),r=e.locations.length>0)),(0,d.tZ)(f,{...e.getMenuProps(),$hasResults:r,children:t})}},88448:(e,t,r)=>{r.d(t,{Z:()=>g});var o=r(23773),i=r(97802),n=r(45951),l=r(19474),a=r(32205),s=r(57280),d=r(28817),c=r(46119),u=r(14342),h=r(33990);const p=(0,i.zo)("label",c.E2),g=e=>{const t=(0,l.ZP)(),r=(0,d.Z)(),i=(0,o.T)(),{query:c,placeholder:g,locations:m,isLoading:v,highlightedIndex:Z,isOpen:y,showTryAgainMessage:f,openMenu:x,reset:b,getItemProps:w,getMenuProps:S,getInputProps:C,getLabelProps:_}=(0,u.Z)({onLocationSelected:e.onLocationSelected,initialQuery:e.initialQuery,id:e.id,initialIsClosed:!0});return(0,h.tZ)(s.Z,{children:(0,h.BX)("div",{ref:e.registerRef,children:[(0,h.tZ)(p,{..._(),children:i("shared.combobox.a11y_instructions")}),(0,h.tZ)(a.Z,{query:c,getInputProps:C,reset:b,placeholder:g,isLoading:v,iconType:"Pin",backgroundColor:"inputFill",onFocus:()=>{x(),t("eats:enter_delivery_address_start",{address:null==r?void 0:r.address.address1,latitude:null==r?void 0:r.latitude,longitude:null==r?void 0:r.longitude})}}),(0,h.tZ)(n.Z,{locations:m.data||[],getMenuProps:S,getItemProps:w,highlightedIndex:Z,showTryAgainMessage:f,isOpen:y})]})})}},95666:(e,t,r)=>{r.d(t,{Z:()=>g});var o=r(18805),i=r(97802),n=r(56850),l=r(77205),a=r(33990);const s=(0,i.zo)(o.rU,(e=>{let{$theme:t}=e;return{width:"100%",height:t.sizing.scale1600,position:"relative",display:"block"}})),d=(0,i.zo)("div",{position:"absolute",top:"50%",width:"100%",transform:"translateY(-50%)"}),c=(0,i.zo)("div",{width:"40px",display:"inline-block",marginRight:"16px",verticalAlign:"middle"}),u=(0,i.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{width:"calc(100% - 56px)",boxSizing:"border-box",display:"inline-block",verticalAlign:"middle",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),h=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,width:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}})),p=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),g=e=>{const{store:{categories:t=[],title:r="",heroImageUrl:o="",meta1:i},url:g,hasBorder:m,onClick:v}=e;return(0,a.tZ)(s,{to:g,onClick:v,children:(0,a.BX)(d,{children:[(0,a.tZ)(c,{children:(0,a.tZ)(l.Z,{name:r,size:"scale1000",src:o})}),(0,a.BX)(u,{$hasBorder:m,children:[(0,a.tZ)(h,{children:r}),i?(0,a.tZ)(n.ZP,{text:i}):(0,a.tZ)(p,{children:t.join(" • ")})]})]})})}},28785:(e,t,r)=>{r.d(t,{Z:()=>v});var o=r(21465),i=r.n(o),n=r(97802),l=r(75057),a=r(56850),s=r(22556),d=r(33990);const c=(0,n.zo)(s.Z,(e=>{let{$isGrayedOut:t}=e;return{display:"flex",width:"100%",alignItems:"center",opacity:t?.6:void 0}})),u=(0,n.zo)("div",{width:"40px",display:"flex",justifyContent:"center",alignItems:"center"}),h=(0,n.zo)("div",(e=>({borderRadius:"50%",width:"40px",height:"40px",backgroundImage:"url(".concat(i()(e.$src),")"),backgroundSize:"cover"}))),p=(0,n.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{padding:"8px 0",width:"100%",boxSizing:"border-box",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),g=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium}})),m=(0,n.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.ParagraphSmall}})),v=e=>{const{url:t,hasBorder:r,onClick:o}=e,{categories:i=[],title:n="",heroImageUrl:s="",meta1:v,isOrderable:Z}=e.store||{};return(0,d.BX)(c,{suggestionAction:t,$isGrayedOut:!1===Z,onClick:o,children:[(0,d.tZ)(u,{children:s?(0,d.tZ)(h,{$src:s,title:n,"aria-hidden":!0}):null}),(0,d.tZ)(l.IQ,{}),(0,d.BX)(p,{$hasBorder:r,children:[(0,d.tZ)(g,{children:n}),v?(0,d.tZ)(a.ZP,{text:v}):(0,d.tZ)(m,{children:i.join(" • ")})]})]})}},12613:(e,t,r)=>{r.d(t,{L1:()=>b,rG:()=>x});var o=r(43193),i=r(97802),n=r(36151),l=r(65015),a=r(33990);function s(e,t){return(0,a.tZ)(l.Z,{viewBox:"0 0 25 24",ref:t,...e,children:(0,a.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.5 12c0-6.1 4.9-11 11-11s11 4.9 11 11-4.9 11-11 11-11-4.9-11-11zm3 0c0 4.4 3.6 8 8 8s8-3.6 8-8-3.6-8-8-8-8 3.6-8 8zm6.5 2.5V7h3v4.5h3.5v3H11z"})})}const d=n.forwardRef(s);var c=r(45973),u=r(75057),h=r(56530),p=r(76401),g=r(22556),m=r("__fusion__416");const v=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelLarge,margin:"12px 0 8px 0"}})),Z=(0,i.zo)(g.Z,{display:"flex",width:"100%",height:"64px",alignItems:"center"}),y=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexGrow:0,flexShrink:0,boxSizing:"border-box",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",borderRadius:"50%",background:t.colors.backgroundSecondary}})),f=(0,i.zo)("div",(e=>{let{$theme:t,$hasBorder:r}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"100%",overflow:"hidden",boxSizing:"border-box",...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),x=e=>{let{item:t,hasBorder:r,onClick:i}=e;const{iconType:n,title:l,url:s,iconColor:g}=t,[v,x]=(0,h.T)({root:null}),{trackSearchHomeItemClick:b,trackSearchHomeItemView:w}=(0,p.Z)();return o.useEffect((()=>{t.eventData&&x&&x.isIntersecting&&w(t.eventData)}),[x]),(0,a.BX)(Z,{suggestionAction:s,ref:v,onClick:()=>{t.eventData&&b(t.eventData),i&&i(l)},children:[(0,a.tZ)(y,{children:"clock"===n?(0,a.tZ)(d,{size:20}):"search"===n?(0,a.tZ)(c.Z,{size:18}):"home"===n?(0,a.tZ)(m.default,{size:20,color:g}):null}),(0,a.tZ)(u.IQ,{}),(0,a.tZ)(f,{$hasBorder:r,children:l})]})},b=e=>{let{title:t}=e;return(0,a.tZ)(v,{children:t})}},22556:(e,t,r)=>{r.d(t,{Z:()=>l});var o=r(36151),i=r(18805),n=r(33990);const l=o.forwardRef((function(e,t){let{suggestionAction:r,onClick:o,children:l,...a}=e;return"link"===r.type?(0,n.tZ)(i.rU,{...a,to:r.to,onClick:o,ref:t,children:l}):"anchor"===r.type?(0,n.tZ)("a",{...a,href:r.href,onClick:o,ref:t,children:l}):(0,n.tZ)("a",{...a,onClick:e=>{e.preventDefault(),o&&o(e)},ref:t,children:l})}))},32205:(e,t,r)=>{r.d(t,{Z:()=>y});var o=r(36151),i=r(23773),n=r(70300),l=r(97802),a=r(85019),s=r(35089),d=r(85105),c=r(75057),u=r(33990);const h=(0,l.w1)(d.U,(e=>({display:"flex",padding:"8px 16px",position:"relative",...e.$backgroundColor?{backgroundColor:e.$theme.colors[e.$backgroundColor]}:{},...e.$isFocused?{boxShadow:e.$theme.shadows.focusedInput}:{},...e.$height?{height:"".concat(e.$height,"px")}:{}}))),p=(0,l.zo)("div",(e=>{let{$shouldAnimatePin:t}=e;return{padding:"8px 0",display:"flex",flexShrink:0,alignItems:"center",...t?{animationDuration:"3s",animationDelay:"2s",animationIterationCount:"infinite",animationName:{"0%":{transform:"rotateY(0deg)"},"20%":{transform:"rotateY(360deg)"},"100%":{transform:"rotateY(360deg)"}}}:{}}})),g=(0,l.zo)("input",(e=>({flex:1,backgroundColor:e.$backgroundColor?e.$theme.colors[e.$backgroundColor]:e.$theme.colors.inputFill,...e.$width?{width:"".concat(e.$width,"px")}:{},appearance:"none",outline:"none","::placeholder":{...e.$theme.typography.LabelMedium,color:e.$theme.colors.contentTertiary}}))),m=(0,l.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,color:t.colors.contentTertiary,cursor:"pointer"}})),v=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),Z=(0,l.zo)(s.Z,{cursor:"pointer"}),y=e=>{const t=(0,i.T)(),[r,l]=o.useState(!1),s=o.useRef(null),{value:d,...y}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),l(!0)},onBlur:()=>l(!1),ref:s});return(0,u.BX)(h,{$backgroundColor:e.backgroundColor,$isFocused:r,$height:e.height,children:[(0,u.tZ)(p,{$shouldAnimatePin:e.shouldAnimatePin,children:(0,u.tZ)(a.Z,{type:e.isLoading?"Loading":e.iconType,ariaLabel:e.isLoading?t("loading"):void 0})}),(0,u.tZ)(c.ZP,{$width:"16px"}),(0,u.tZ)(g,{...y,value:d||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$backgroundColor:e.backgroundColor,$width:e.queryWidth}),(0,u.tZ)(c.ZP,{$width:"8px"}),e.query.length>0?(0,u.tZ)(m,{type:"button",onClick:()=>{e.reset(),s.current&&s.current.focus()},children:(0,u.tZ)(n.v,{id:"shared.clear"})}):null,e.onClose&&e.query.length>0?(0,u.tZ)(v,{}):null,e.onClose?(0,u.tZ)(Z,{onClick:e.onClose}):null]})}},57280:(e,t,r)=>{r.d(t,{Z:()=>o});const o=(0,r(97802).zo)("div",{flexDirection:"column",position:"relative",flex:1})},98306:(e,t,r)=>{r.d(t,{Z:()=>D,q:()=>z});var o=r(36151),i=r(43193),n=r(7903),l=r(70300),a=r(23773),s=r("__fusion__435"),d=r(71810),c=r(35867),u=r(2720),h=r("__fusion__418"),p=r(97802),g=r(67395),m=r(14570),v=r(33990);const Z=e=>1===e.numCarts&&1===e.numCartItems?(0,v.BX)(v.HY,{children:[(0,v.tZ)(l.v,{id:"shared.numCartsSingular",data:{numCarts:e.numCarts}}),(0,v.tZ)(m.Z,{spaces:2,color:"buttonPrimaryText"}),(0,v.tZ)(l.v,{id:"shared.numCartItemsSingular",data:{numCartItems:e.numCartItems}})]}):1===e.numCarts?(0,v.BX)(v.HY,{children:[(0,v.tZ)(l.v,{id:"shared.numCartsSingular",data:{numCarts:e.numCarts}}),(0,v.tZ)(m.Z,{spaces:2,color:"buttonPrimaryText"}),(0,v.tZ)(l.v,{id:"shared.numCartItems",data:{numCartItems:e.numCartItems}})]}):1===e.numCartItems?(0,v.BX)(v.HY,{children:[(0,v.tZ)(l.v,{id:"shared.numCarts",data:{numCarts:e.numCarts}}),(0,v.tZ)(m.Z,{spaces:2,color:"buttonPrimaryText"}),(0,v.tZ)(l.v,{id:"shared.numCartItemsSingular",data:{numCartItems:e.numCartItems}})]}):(0,v.BX)(v.HY,{children:[(0,v.tZ)(l.v,{id:"shared.numCarts",data:{numCarts:e.numCarts}}),(0,v.tZ)(m.Z,{spaces:2,color:"buttonPrimaryText"}),(0,v.tZ)(l.v,{id:"shared.numCartItems",data:{numCartItems:e.numCartItems}})]});var y=r(19474),f=r(21954),x=r(88965),b=r(83832),w=r(6385),S=r(76469),C=r(58980),_=r(97174),$=r(81584),k=r(75057);const I=(0,p.zo)(w.zx,(e=>{let{$theme:t}=e;return{width:"100%",boxShadow:t.lighting.deepBelow}})),O=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",color:t.colors.buttonPrimaryText}})),B=(0,p.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",color:t.colors.primaryB,flexDirection:"row",alignItems:"center"}})),z=()=>{const{draftOrder:e,isBundledOrder:t,bundledOrders:r}=(0,_.Dz)();return(0,o.useMemo)((()=>{var o;if(!t)return 0;const i=(0,$.dH)(null==e||null===(o=e.shoppingCart)||void 0===o?void 0:o.items);return(r||[]).reduce(((e,t)=>{var r;return e+(0,$.dH)(null==t||null===(r=t.shoppingCart)||void 0===r?void 0:r.items)}),i)}),[e,t,r])},P=()=>{const e=z();return(0,v.BX)(v.HY,{children:[(0,v.tZ)(s.default,{size:24}),(0,v.tZ)(k.sA,{}),(0,v.tZ)(l.v,{id:"store.bundle_store.view_cart_text",data:{totalItems:e}})]})},D=e=>{var t;const[r,o]=i.useState(!1),[,s]=(0,p.hQ)(),m=i.useRef(!0),w=i.useRef(null),$=(0,C.TH)(),k=(0,n.k6)(),z=(0,C.UO)(),D=(0,a.T)(),L=(0,y.ZP)(),{isSecondaryBundledStore:T,primaryBundledStoreUuid:H}=(0,b.Z)(),R=(0,x.Z)({encodedStoreUuid:null==z?void 0:z.encodedStoreUuid}),{isInVerboseCartPillTreatment:M,totalOrders:U}=(0,g.Z)(),{isEditOrder:E,hasGroupOrder:X,isBillSplitOrder:A,currentUserItemCount:F,isDraftOrderCreator:q,draftOrder:V,draftOrderUuid:j}=(0,f.Z)(R),G=(0,f.Z)(H),Q=F&&X&&A&&!q&&m.current,N=T&&V||"PRIMARY"===(null==V||null===(t=V.bundleGroupInfo)||void 0===t?void 0:t.bundleGroupRole);return i.useEffect((()=>()=>{clearTimeout(w.current)}),[]),i.useEffect((()=>{L("eats:multicart_cart_pill",{...N?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null})}),[L,N]),i.useEffect((()=>{m.current=!0}),[F]),i.useEffect((()=>{Q&&(o(!0),m.current=!1,w.current=setTimeout((()=>{o(!1)}),5e3))}),[Q]),(0,v.BX)(v.HY,{children:[(0,v.tZ)(d.Z,{isOpen:r,placement:c.r4.top,showArrow:!0,overrides:{Inner:{style:e=>{let{$theme:t}=e;return{paddingLeft:t.sizing.scale600,paddingRight:t.sizing.scale600,paddingTop:t.sizing.scale600,paddingBottom:t.sizing.scale600,display:"flex"}}}},content:()=>(0,v.BX)(B,{children:[(0,v.tZ)(u.S$,{width:s.sizing.scale4800,marginRight:s.sizing.scale500,color:s.colors.primaryB,children:(0,v.tZ)(l.v,{id:"go.bill.split.add.item.tooltip.text"})}),(0,v.tZ)(h.default,{onClick:()=>o(!1),size:16})]}),children:(0,v.tZ)("div",{})}),(0,v.tZ)(I,{"aria-label":D("shared.viewCart"),size:S.NO.large,onClick:()=>{L("eats:cart_cta_click",{isMulticart:!0,...N?{storePreCheckoutBundling:{sourceType:"BUNDLED_STORE"}}:null}),k.push(e.linkUrl,{clearLocation:$})},children:(0,v.tZ)(O,{children:N?(0,v.tZ)(_.zW,{draftOrderUUID:T?G.draftOrderUuid:j,children:(0,v.tZ)(P,{})}):M&&!E?(0,v.tZ)(Z,{numCarts:U,numCartItems:F}):(0,v.tZ)(l.v,{id:"components.cart_button.multicart_view_cart_text",data:{totalItems:F}})})})]})}},92660:(e,t,r)=>{r.d(t,{G:()=>u});var o=r(23773),i=r(36151),n=r(23418),l=r(17211),a=r(92614),s=r(93026);var d=r(50264),c=r(94867);const u=e=>{var t,r,u,h;const p=(0,c.E)(e),{feed:g}=(0,d.Z)(),m="t_dishes"===p,v=(0,i.useRef)(!0),Z=(0,o.T)(),y=(0,i.useRef)([]),f=(0,n.t)({dropPastOrders:!1,addtionalStoreMeta:["categories"]}),x=(0,i.useCallback)((e=>{const{imageUrl:t,title:r,orderDate:o}=e.store.topDishes[0],{store:{slug:i,uuid:n,categories:l,title:a}}=e;return{storeSlug:i,storeUuid:n,heroImageUrl:t,title:r,orderDate:o,categories:l.length?l:[a]}}),[]),b=(0,i.useMemo)((()=>{var e;return(null===(e=f.data)||void 0===e?void 0:e.searchHistory.filter((e=>"croStore"===e.type)))||[]}),[null===(t=f.data)||void 0===t?void 0:t.searchHistory]),w=(0,i.useMemo)((()=>b.filter((e=>e.store.topDishes.length))),[b]);y.current=(0,i.useMemo)((()=>{let e=[];return"t_restaurant"===p&&b.length>=2&&(e=b.map((e=>{let{ts:t,store:r}=e;return{storeSlug:(null==r?void 0:r.slug)||"",storeUuid:(null==r?void 0:r.uuid)||"",heroImageUrl:(null==r?void 0:r.heroImageUrl)||"",title:(null==r?void 0:r.title)||"",orderDate:t,categories:(null==r?void 0:r.categories)||[]}}))),m&&w.length>=4&&(e=w.map(x),v.current=!1),m&&w.length<4&&(e=w.reduce(((e,t)=>{var r;return[...e,...((null==t||null===(r=t.store)||void 0===r?void 0:r.topDishes)||[]).map((e=>{var r,o,i,n,l;return{storeSlug:(null==t||null===(r=t.store)||void 0===r?void 0:r.slug)||"",storeUuid:(null==t||null===(o=t.store)||void 0===o?void 0:o.uuid)||"",categories:null!=t&&null!==(i=t.store)&&void 0!==i&&i.categories||null!=t&&null!==(n=t.store)&&void 0!==n&&n.title?[null==t||null===(l=t.store)||void 0===l?void 0:l.title]:[],heroImageUrl:(null==e?void 0:e.imageUrl)||"",title:(null==e?void 0:e.title)||"",orderDate:(null==e?void 0:e.orderDate)||""}}))]}),[]).sort(((e,t)=>new Date(e.orderDate)>new Date(t.orderDate)?-1:1))),e}),[m,x,p,b,w]);const S=function(e,t){const r=(0,s.Z)("getTopDishesV1"),o=(0,a.H)("getTopDishesV1",e);return(0,l.useQuery)({queryKey:o,queryFn:e=>{let{queryKey:t}=e;return r.request("getTopDishesV1",t[1])},...null==t?void 0:t.queryObserverOptions})}({},{queryObserverOptions:{enabled:m&&0===y.current.length}});y.current=(0,i.useMemo)((()=>{if(0===y.current.length&&"t_dishes"===p&&!S.isLoading&&S.data&&(y.current=S.data?S.data.map((e=>{var t,r,o,i,n;return{storeSlug:e.storeSlug,storeUuid:e.storeUuid,categories:[e.storeName],heroImageUrl:null==e||null===(t=e.dishStateMapDisplayInfo)||void 0===t||null===(r=t.available)||void 0===r?void 0:r.imageUrl,title:null==e||null===(o=e.dishStateMapDisplayInfo)||void 0===o||null===(i=o.available)||void 0===i||null===(n=i.title)||void 0===n?void 0:n.text}})):[]),y.current.length>0&&"t_dishes"===p&&(v.current=!1),0===b.length||0!==b.length&&0===y.current.length){var e;const t=((null==g||null===(e=g.data)||void 0===e?void 0:e.feedItems)||[]).filter((e=>"REGULAR_STORE"===e.type&&e.store)).map((e=>e.store));t.length&&(y.current=t.filter((e=>{var t,r;return null==e||null===(t=e.image)||void 0===t||null===(r=t.items)||void 0===r?void 0:r.length})).map((e=>{var t,r,o,i;return{storeSlug:"",actionUrl:e.actionUrl,storeUuid:e.storeUuid,categories:[],heroImageUrl:null==e||null===(t=e.image)||void 0===t||null===(r=t.items)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.url,title:null===(i=e.title)||void 0===i?void 0:i.text}})))}return y.current}),[null==g||null===(r=g.data)||void 0===r?void 0:r.feedItems,S.data,S.isLoading,b,p]);const C=(0,i.useMemo)((()=>"t_dishes"!==p||v.current||S.data?"t_dishes"===p&&!v.current&&S.data?Z("search.top.dishes"):"t_dishes"===p&&v.current?Z("search.top.restaurants"):b.length>=2?Z("search.recent.restaurants"):Z("search.top.restaurants"):Z("search.recent.dishes")),[b.length,S.data,Z,p]),_=null===(u=f.data)||void 0===u?void 0:u.browseHomeFeed.find((e=>"CATEGORY"===e.itemType)),$=(null===(h=f.data)||void 0===h?void 0:h.searchHistory.filter((e=>"searchHistory"===e.type)).slice(0,5))||[];let k=[];return 0===$.length&&(k=(null==_?void 0:_.items.map((e=>({title:e.title}))))||[]),{searches:($.length?$:k).slice(0,5),middleRow:y.current.slice(0,5),searchHeading:$.length>0?Z("search.recent.searches"):Z("search.top.searches"),middleRowHeading:C,categoriesHeading:Z("search.top.categories"),categories:null!=_&&_.items?null==_?void 0:_.items:[],hasRecentSearches:$.length>0}}},94867:(e,t,r)=>{r.d(t,{E:()=>a});var o=r(42529),i=r(36151),n=r(19474),l=r(35776);const a=e=>{const t=(0,o.F2)(),[r,a]=(0,i.useState)("default"),s=(0,n.ZP)();return(0,i.useEffect)((()=>{if(e){const e=t.getString({...l.m.multi_column_zero_state_search,defaultValue:"default"});s("eats:eats_web_cro_zero_state_search_multicolumn_inclusion",{param_name:"eats_web_cro_zero_state_search_multicolumn_inclusion",param_value:e}),a(e)}else a("default")}),[s,t,e]),r}},51122:(e,t,r)=>{r.d(t,{M:()=>s});var o=r(36151),i=r(35776),n=r(42529),l=r(19474),a=r(92036);const s=e=>{var t;const r=(0,l.ZP)(),s=(0,n.F2)(),{user:d}=(0,a.Z)(),c=null===(t=d.data)||void 0===t?void 0:t.isLoggedIn,[u,h]=(0,o.useState)("default");(0,o.useEffect)((()=>{if(e&&!c){const e=s.getString({...i.m.store_signin_signup,defaultValue:"default"});r("eats:signin_signup",{param_name:"signin_signup_treatment",param_value:e}),h(e)}}),[e,c,s,r]);const p=(0,o.useCallback)(((e,t)=>{r("eats:signin_signup_click",{type:e,eventSource:t})}),[r]);return{showSigninSignup:!e||"t_both"===u,logSignInSignUpClick:p,campaign:e?"store_signin_universal_link":"signin_universal_link"}}},23743:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(42529),i=r(26701);function n(){return{storeDishItemsXP:(0,o.qp)({...i.J.feed_store_dish_items,defaultValue:"control"})}}},51818:(e,t,r)=>{r.d(t,{Z:()=>de});var o=r(36151),i=r(70300),n=r(7903),l=r(23849),a=r(97802),s=r(68527),d=r(21954),c=r(13597),u=r(50289),h=r(53156),p=r(67395),g=r(46119),m=r(13956),v=r(65015),Z=r(33990);function y(e,t){return(0,Z.tZ)(v.Z,{viewBox:"0 0 8 6",ref:t,...e,children:(0,Z.tZ)("path",{d:"M8 .333v2.534L4 5.933 0 2.867V.333L4 3.4 8 .333z"})})}const f=o.forwardRef(y);var x=r(75057),b=r(4132);const w=(0,a.zo)("div",{position:"relative",zIndex:g.I_.surface}),S=(0,a.zo)("button",(e=>{let{$theme:t}=e;return{cursor:"pointer",border:"none",outline:"none",display:"flex",alignItems:"center",...t.typography.LabelMedium}})),C=(0,a.zo)("span",(e=>{let{$theme:t}=e;return{display:"block",borderBottom:"1px solid transparent",":hover":{borderBottom:"1px solid ".concat(t.colors.contentSecondary)}}})),_=()=>{const{cartViews:e}=(0,p.Z)(),{sidebarCartDropdownVisible:t,setSidebarCartDropdownVisible:r}=(0,s.Lb)(),{toggleIsDropdownOpen:o,dropdownRef:n,isDropdownOpen:l,onCartSelect:a,DropdownWrapperDesktop:d}=(0,m.Z)({isDropdownOpen:t,setIsDropdownOpen:r}),c=e.length;return(0,Z.BX)(w,{ref:n,children:[(0,Z.BX)(S,{"aria-haspopup":"true","aria-expanded":l,onClick:o,children:[(0,Z.tZ)(C,{children:(0,Z.tZ)(i.v,{id:"multicart.carts_with_num",data:{num:c}})}),(0,Z.tZ)(x.Tr,{}),(0,Z.tZ)(f,{rotate:l?180:0,size:9})]}),l?(0,Z.tZ)(d,{children:(0,Z.tZ)(b.Z,{onCartSelect:a,isMobile:!1})}):null]})};var $=r(47385);const k=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{minHeight:t.sizing.scale1400,margin:"0 ".concat(t.sizing.scale800," 0 ").concat(t.sizing.scale300," !important"),display:"flex",justifyContent:"space-between",alignItems:"center"}})),I=(0,a.zo)(h.Z,{position:"static"}),O=e=>{const{totalOrders:t,draftOrders:r}=(0,p.Z)(),{isEditOrder:o}=(0,d.Z)(),i=t>1;return(0,Z.BX)(k,{children:[(0,Z.tZ)(I,{onClick:e.onClose}),0!==t||r.isLoading||o?null:(0,Z.tZ)($.X,{}),i&&!o?(0,Z.tZ)(_,{}):null]})};var B=r(88312);const z=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{borderBottom:"2px solid ".concat(t.colors.borderOpaque),padding:"0 24px",display:"flex",justifyContent:"center"}})),P=(0,a.zo)("button",(e=>{let{$theme:t,$isActive:r}=e;return{color:r?t.colors.contentPrimary:t.colors.contentTertiary,width:"216px",height:"54px",position:"relative",background:"none",outline:"none",border:"none",cursor:"pointer",overflowX:"clip",overflowY:"visible",whiteSpace:"nowrap",textOverflow:"ellipsis",padding:"0 16px","::after":{display:r?"unset":"none",borderBottom:"2px solid ".concat(t.colors.contentPrimary),content:'""',position:"absolute",bottom:"-2px",left:"0",width:"100%"}}})),D=()=>{const{cartViews:e,activeDraftOrderUUID:t,setActiveDraftOrder:r}=(0,p.Z)();if(e.length<2)return null;const o=e[0],i=e[1];return(0,Z.BX)(z,{children:[(0,Z.tZ)(P,{onClick:()=>{r(null==o?void 0:o.draftOrderUUID)},$isActive:t===(null==o?void 0:o.draftOrderUUID),children:(0,Z.tZ)("span",{children:null==o?void 0:o.title})}),(0,Z.tZ)(P,{onClick:()=>{r(null==i?void 0:i.draftOrderUUID)},$isActive:t===(null==i?void 0:i.draftOrderUUID),children:(0,Z.tZ)("span",{children:null==i?void 0:i.title})})]})};var L=r(97174),T=r(26188),H=r(37850),R=r(63384),M=r(79111),U=r(30146),E=r(74978),X=r(48708),A=r(28534),F=r(90114),q=r(96361),V=r(50426),j=r(58700),G=r(53279),Q=r(1046),N=r(41802),Y=r(88965),W=r(75692),K=r(23287),J=r(19474),ee=r(2429),te=r(26644),re=r(53987),oe=r(43248),ie=r(16688);const ne=(0,a.zo)("div",(e=>{let{$theme:t}=e;return{height:"100%",display:"flex",flexDirection:"column",alignItems:"stretch",":first-child > :is(div, ul)":{margin:"0 ".concat(t.sizing.scale800)}}})),le=(0,a.zo)("div",{position:"sticky",bottom:0,margin:"0 !important"}),ae=(0,a.zo)("span",(e=>{let{$theme:t}=e;return t.typography.ParagraphMedium})),se=(0,a.zo)("div",{flexGrow:1}),de=e=>{let{startShoppingRedirect:t}=e;const r=(0,n.k6)(),a=(0,F.Z)(),h=(0,n.UO)(),m=(0,Y.Z)({encodedStoreUuid:null==h?void 0:h.encodedStoreUuid}),{sidebarCartVisible:v,sidebarCartIn:y,sidebarCartClosing:f,closeSidebarCart:x}=(0,s.Lb)({transitionMS:500}),{hasGroupOrder:b,isDraftOrderCreator:w,storeUuid:S,isDraftOrderCartLocked:C,creatorName:_,isEditOrder:$}=(0,d.Z)(),{serverCart:k}=(0,L.iQ)(),{isInCartTabTreatment:I,totalOrders:z,draftOrders:P,setActiveDraftOrder:de,activeDraftOrderUUID:ce,currentStoreDraftOrderUUID:ue}=(0,p.Z)(),he=(0,W.Z)(),pe=Boolean(he),{isManagingGroupOrder:ge}=(0,j.Z)(),me=(0,J.ZP)(),ve=0===z&&!P.isLoading&&!$,Ze=!v&&!y,ye=!(0,B.Z)()||!Ze,{store:fe}=(0,ee.Z)(S,{cacheOnly:!ye}),xe=(0,ie.Z)("canonical_product_smart_cart");return(0,re.Z)(!Ze),(0,q.Z)(),(0,T.Z)(v),(0,K.Z)({cartOpen:v&&y,store:fe,draftOrder:k}),(0,o.useEffect)((()=>{f&&ce&&ue&&de(ue||"")}),[f,ue,de,ce,m]),Ze?null:(0,Z.tZ)(Q.Z,{messageKey:"cart-drawer",children:(0,Z.tZ)(oe.ZP,{zIndex:g.I_.cover,children:(0,Z.tZ)(l.Z,{isOpen:v&&y,onClose:x,overrides:{Close:{style:{display:"none"}},DrawerContainer:{style:{width:"".concat(478,"px")}},DrawerBody:{style:{marginTop:0,marginBottom:0,marginLeft:0,marginRight:0}}},children:ge?(0,Z.tZ)(G.Z,{}):(0,Z.BX)(ne,{"data-test":"cart",children:[(0,Z.tZ)(O,{onClose:()=>{x(),me("eats:close_cart_cta")}}),I?(0,Z.tZ)(D,{}):null,ve?(0,Z.tZ)(A.Z,{onClick:()=>{x(),t&&r.push(a),me("eats:start_shopping_cta_click")}}):(0,Z.tZ)(H.Z,{store:fe,draftOrder:k,loaded:(e,t)=>(0,Z.BX)(Z.HY,{children:[(0,Z.BX)("div",{children:[C?(0,Z.tZ)(M.c,{children:(0,Z.tZ)(ae,{children:w?(0,Z.tZ)(i.v,{id:"go.unlock_cart_warning_text_2"}):(0,Z.tZ)(i.v,{id:"go.creator_order_locked_description",data:{creatorName:_}})})}):null,(0,Z.tZ)(V.Z,{store:e,onCartClose:x,onClearCart:x,cartActionsType:"dropdown"})]}),xe?(0,Z.tZ)(te.C,{}):null,(0,Z.BX)("div",{children:[pe?(0,Z.tZ)(N.Q,{$spaceBefore:24}):null,(0,Z.tZ)(E.Z,{})]}),b?(0,Z.BX)("div",{children:[(0,Z.tZ)(U.IY,{$spaceAfter:16}),(0,Z.tZ)(R.Z,{gutterWidth:16}),(0,Z.tZ)(c.Z,{gutterWidth:16,showAddGuestsBtn:!1,showFacePile:!0,showRemoveParticipantButton:!0})]}):(0,Z.tZ)(u.Z,{onClearCart:x,disableGroupOrder:!0,quantitySelectType:"picker"}),(0,Z.tZ)(se,{}),(0,Z.tZ)(le,{children:(0,Z.tZ)(X.Z,{isMobile:!1,store:e})})]})})]})})})})}},13956:(e,t,r)=>{r.d(t,{Z:()=>u});var o=r(36151),i=r(97802),n=r(92922),l=r(67395),a=r(19474),s=r(90717),d=r(46119);const c=(0,i.zo)("div",(e=>{let{$theme:t}=e;return{background:t.colors.menuFill,boxShadow:"0px 4px 16px rgba(0, 0, 0, 0.12)",marginTop:"8px",right:"8px",position:"absolute",width:"420px",borderRadius:"16px",maxHeight:"505px",overflow:"auto",zIndex:d.I_.foreground}})),u=e=>{let{isDropdownOpen:t,setIsDropdownOpen:r}=e;const{totalOrders:i,draftOrderUUIDs:d,setActiveDraftOrder:u}=(0,l.Z)(),h=(0,n.Z)(),p=(0,a.ZP)(),g=o.useRef(null);(0,s.Z)(g,(()=>{r(!1)}),t);const m=o.useCallback((()=>{const e=!t;r(e),e&&p("eats:carts_list_view",{multicart:{numTotalCarts:i,draftOrderUuids:d}})}),[t,r,p,i,d]),v=o.useCallback(((e,t)=>{u(e),h(e,t),r(!1)}),[u,h,r]);return{toggleIsDropdownOpen:m,dropdownRef:g,isDropdownOpen:t,onCartSelect:v,DropdownWrapperDesktop:c}}},99209:(e,t,r)=>{r.d(t,{Z:()=>S});var o=r(36151),i=r(42529),n=r(28398),l=r(7903),a=r(23773),s=r(49633),d=r(55932),c=r(19474),u=r(72403),h=r(28817),p=r(80212),g=r(23418),m=r(26701),v=r(23743),Z=r(41530),y=r(18075),f=r(81933),x=r(16688),b=r(45755),w=r(58980);const S=e=>{let{initialQuery:t,onSuggestionSelected:r,initialIsClosed:S,searchTypeaheadPlaceholder:C,vertical:_,isMultiVerticalDesktop:$}=e;const k=(0,w.TH)(),I=(0,l.k6)(),O=(0,a.T)(),B=(0,h.Z)(),z=(0,c.ZP)(),P=(0,s.Z)("getSearchSuggestionsV1"),D=(0,x.Z)("clear_search_results_cache_on_location_change"),L=(0,i.qp)({...m.J.eats_web_eater_home_search_home_style,defaultValue:""}),T=(0,g.t)({dropPastOrders:$||""!==L},$?{}:{queryObserverOptions:{enabled:!1}}),H=(0,y.Z)(),R=(0,i.ip)({...m.J.cs_other_entrypoint_xlb,defaultValue:!1}),M=(0,x.Z)("can_enable_cs_other_entrypoint_xlb"),{storeDishItemsXP:U}=(0,v.Z)(),{embeddedFeatures:{xlbHeaderBridge:E}}=(0,n.v)((e=>{let{embeddedFeatures:t}=e;return{embeddedFeatures:t}})),X=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{setLastClickedPartialStore:A}=o.useContext(p.C),{userQuery:F}=(0,u.RAN)(k,["userQuery"]),q=o.useCallback((async e=>{if(z("eats:search_end",{userQuery:e.title,page:k.pathname,hasDeliveryLocation:Boolean(B),mvsMeta:{verticalList:X.map((e=>e.verticalType)).join(","),selectedVertical:_||f.g},searchType:"searchFor"!==e.type&&"text"!==e.type||!e.title?"suggestion":"manual"}),r&&r(),e.store&&("store"===e.type&&!e.store.actionUrl||"croStore"===e.type)&&A({heroImageUrl:e.store.heroImageUrl,title:e.store.title,storeUuid:e.store.uuid}),"store"===e.type&&e.store){if(e.store.actionUrl)return;I.push((0,u.gfM)(k,{storeSlug:e.store.slug,storeUuid:e.store.uuid}))}else if("croStore"===e.type&&e.store){var t;z("eats:search_bar_past_order_store_click",{storeUuid:null===(t=e.store)||void 0===t?void 0:t.uuid})}else"searchFor"!==e.type&&"text"!==e.type||!e.title||I.push((0,u.Xqq)(k,{userQuery:e.title,searchSource:Z.xH.SEARCH_BAR,searchType:"control"!==U?Z.Sc.GLOBAL_SEARCH:void 0}))}),[z,k,B,X,_,r,A,I,U]),V=o.useCallback(((e,t)=>{q({title:e,type:"searchFor"})}),[q]),j=o.useCallback((async e=>{if(!e){if(""!==L)return[];let e;if(T.isFetched){var t,r;if($)return((null===(r=T.data)||void 0===r?void 0:r.verticalSearchHomeResults)||{})[_||f.g];e=null===(t=T.data)||void 0===t?void 0:t.searchHistory}else{const t=await T.refetch().then((e=>e.data)),r=null==t?void 0:t.verticalSearchHomeResults;if($)return(r||{})[_||f.g];e=null==t?void 0:t.searchHistory}return e||[]}const{date:o,startTime:i,endTime:n}=(0,u.RAN)(k,["date","startTime","endTime"]),l=await P({userQuery:e,date:o,startTime:Number(i),endTime:Number(n),vertical:_});return z("eats:global_search_suggestions_viewed",{mvsMeta:{verticalList:X.map((e=>e.verticalType)).join(","),selectedVertical:_||f.g}}),!H||R&&M?l:l.filter((e=>{var t;return!(null!==(t=e.store)&&void 0!==t&&t.actionUrl)}))}),[k,P,_,z,X,H,R,M,L,T,$]),G=o.useCallback((e=>{let{results:t,query:r}=e;return 0===t.length?r?O("shared.noSuggestionsForTerm",{searchTerm:r}):"":r?O("components.MarketplaceSearch.resultsDescription",{numResults:t.length,searchTerm:r}):O("shared.searchResultsCount",{resultsCount:t.length})}),[]),{query:Q,results:N,getLabelProps:Y,getInputProps:W,getMenuProps:K,getItemProps:J,reset:ee,openMenu:te,isOpen:re,highlightedIndex:oe,clearCacheAndRefetchResults:ie}=(0,d.Z)({id:"search-suggestions-typeahead",initialQuery:t||F,fetchResults:j,initialIsClosed:S,onResultSelected:q,getQueryFromResult:e=>(null==e?void 0:e.title)||"",onEnterKeyWithNoSelectedResult:V,getA11yStatusMessage:G,fetchResultsTrigger:_}),ne=C||O("shared.searchPlaceholder");return o.useEffect((()=>{D&&ie&&ie()}),[B]),{query:Q,results:N,isOpen:re,getLabelProps:Y,getInputProps:W,getMenuProps:K,getItemProps:J,openMenu:te,reset:ee,highlightedIndex:oe,placeholder:E?"":ne,getSuggestionAction:e=>["text","searchHistory","popularCategory","searchFor","searchText"].includes(e.type)?{type:"link",to:(0,u.Xqq)(k,{vertical:_||f.g,userQuery:e.searchTerm?e.searchTerm:e.title,searchSource:Z.xH.SEARCH_SUGGESTION,searchType:"control"!==U?Z.Sc.GLOBAL_SEARCH:void 0,...B?{deliveryLocation:B}:{}})}:"store"===e.type&&e.store?(0,b.C)(e.store,H,k):"croStore"===e.type&&e.store?{type:"link",to:(0,u.gfM)(k,{storeSlug:e.store.slug,storeUuid:e.store.uuid})}:{type:"unknown"},handleSuggestionSelected:q}}},84385:(e,t,r)=>{r.d(t,{ZP:()=>it});var o=r(36151),i=r(43193),n=r(11183),l=r(97802),a=r(75057),s=r(13234),d=r(98633),c=r(90336),u=r(23418),h=r(46828),p=r(46119),g=r(7903),m=r(58980),v=r(23773),Z=r(45932),y=r(82658),f=r(45531),x=r(32497),b=r(88448),w=r(71091),S=r(87975),C=r(28817),_=r(5028),$=r(92036),k=r(97425),I=r(51818),O=r(72611),B=r(50264),z=r(32824),P=r(57280),D=r(72403),L=r(99209),T=r(54947),H=r(63795),R=r(17308),M=r(28785),U=r(12613),E=r(71427),X=r(33990);const A=(0,l.zo)("ul",(e=>{let{$theme:t}=e;return{width:"100%"}})),F=(0,l.zo)("li",(e=>({backgroundColor:"transparent",height:"64px",cursor:"pointer",display:"flex",alignItems:"center",outline:"none",...e.$showBackground?{":hover":{background:e.$theme.colors.menuFillHover}}:{},transition:"opacity .45s .5s,visibility .45s .5s,transform .45s ease .3s",transform:"translateY(0)",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})));const q=function(e){var t;if(null===(t=e.suggestions)||void 0===t||!t.length)return null;const r=e.vertical===E.Cf.ALCOHOL?12:6;let o;return e.query?o=e.suggestions.slice(0,7):(o=e.suggestions.slice(0,r),o.length>1&&"sectionTitle"===o[o.length-1].type&&o.pop()),(0,X.tZ)(A,{...e.getMenuProps(),children:o.map(((t,r)=>{const i=r<o.length-1,n=e.getSuggestionAction(t);return(0,X.tZ)(F,{...e.getItemProps({index:r,disabled:"sectionTitle"===t.type}),onClick:()=>{e.onItemClick(t,r)},$showBackground:"sectionTitle"!==t.type,children:"sectionTitle"===t.type?(0,X.tZ)(U.L1,{title:t.title},r):"text"===t.type||"searchText"===t.type?(0,X.tZ)(U.rG,{item:{title:t.title,iconType:"search",url:n},hasBorder:i}):"searchHistory"===t.type?(0,X.tZ)(U.rG,{item:{title:t.title||"",iconType:"clock",eventData:void 0,url:n},hasBorder:i},r):"store"===t.type||"croStore"===t.type?(0,X.tZ)(M.Z,{store:t.store,hasBorder:i,url:n}):"popularCategory"===t.type?(0,X.tZ)(U.rG,{item:{title:t.title||"",url:n,iconType:"search"},hasBorder:i},r):null},r)}))})};var V=r(55773),j=r(70300),G=r(45973),Q=r(35089),N=r(32487),Y=r(81933),W=r(28398),K=r(53165),J=r(19474);const ee=(0,l.zo)("ul",(e=>{let{$theme:t}=e;return{width:"208px",zIndex:p.I_.foreground,background:t.colors.menuFill,position:"absolute",left:"auto",right:0,borderColor:t.colors.borderOpaque,borderStyle:"solid",borderWidth:"0 1px 1px 1px",boxShadow:t.shadows.box,top:"28px"}})),te=(0,l.zo)("li",(e=>{let{$theme:t,$hasBorder:r}=e;return{display:"flex",alignItems:"center",justifyContent:"space-between",flexGrow:1,height:"52px",overflow:"hidden",boxSizing:"border-box",cursor:"pointer",":hover":{background:t.colors.menuFillHover},...r?{borderBottom:"1px solid ".concat(t.colors.borderOpaque)}:{}}})),re=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,display:"flex",alignItems:"center",padding:"0 16px"}})),oe=(0,l.zo)("div",{display:"flex",alignItems:"flex-end",padding:"0 16px"}),ie=e=>{let{closeDropdown:t,analyticsData:r}=e;const o=(0,m.TH)(),n=(0,g.k6)(),l=(0,J.ZP)(),{multiVertical:a}=(0,W.v)((e=>{let{multiVertical:t}=e;return{multiVertical:t}})),s=(0,D.RAN)(o,["vertical"]).vertical||Y.g,d=a.verticalList,c=i.useCallback((e=>()=>{n.replace((0,D.xoo)(o,e)),t&&t(),l("eats:search_vertical_popover_applied",{mvsMeta:r})}),[r,t,l,n,o]);return i.useEffect((()=>{l("eats:search_vertical_popover_view",{mvsMeta:r})}),[]),(0,X.tZ)(ee,{children:d.map(((e,t)=>(0,X.tZ)("div",{children:(0,X.BX)(te,{$hasBorder:t<d.length-1,onClick:c(e.verticalType),children:[(0,X.tZ)(re,{children:e.title}),e.verticalType===s?(0,X.tZ)(X.HY,{children:(0,X.tZ)(oe,{children:(0,X.tZ)(K.Z,{size:18})})}):null]})},t)))})};var ne=r(90717),le=r(11982),ae=r(95508);const se=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{display:"flex",flexDirection:"row",borderRadius:t.borders.pillButtonBorderRadius,backgroundColor:t.colors.backgroundPrimary,alignItems:"center",textAlign:"center",color:t.colors.contentPrimary,height:"32px",padding:"0 16px",maxWidth:"30%",overflow:"hidden",cursor:"pointer"}})),de=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}})),ce=e=>{var t;const r=(0,v.T)()("multiVerticalSearch.PillButtonText",{vertical:(null===(t=e.selectedVertical)||void 0===t?void 0:t.title)||""}),i=(0,J.ZP)();return o.useEffect((()=>{i("eats:search_vertical_dropdown_view",{mvsMeta:e.analyticsData})}),[]),(0,X.BX)(X.HY,{children:[(0,X.BX)(se,{onClick:()=>{e.toggleDropdown&&e.toggleDropdown(),i("eats:search_vertical_dropdown_tapped",{mvsMeta:e.analyticsData})},children:[(0,X.tZ)(de,{children:r}),(0,X.tZ)(a.sA,{}),(0,X.tZ)(ae.Z,{size:8})]}),(0,X.tZ)(a.sA,{})]})},ue=(0,l.zo)("div",(e=>{let{$theme:t,$isFocused:r}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",position:"absolute",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",right:"0",transform:"translateY(-50%)",...r?{maxWidth:"".concat(1494,"px"),minWidth:"".concat(600,"px")}:{maxWidth:"".concat(1036,"px"),minWidth:"".concat(180,"px")},transition:"min-width 400ms ease, max-width 400ms ease"}})),he=(0,l.zo)("div",(e=>({display:"flex",flexShrink:0,alignSelf:"center"}))),pe=(0,l.zo)("input",(e=>({flex:1,backgroundColor:e.$theme.colors.inputFill,...e.$width?{width:"".concat(e.$width,"px")}:{},appearance:"none",outline:"none","::placeholder":{...e.$theme.typography.LabelMedium,color:e.$theme.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden"}))),ge=(0,l.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer"}})),me=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),ve=(0,l.zo)(Q.Z,{cursor:"pointer"}),Ze=e=>{var t,r;const{showMultiVerticalSearchDropdown:i}=(0,N.Z)(),n=o.useRef(null),l=(0,m.TH)(),[s,d]=o.useState(!1),[c,u]=o.useState(!1),[h,p]=o.useState(!0),g=o.useRef(null),v=(0,J.ZP)(),{value:Z,...y}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),u(!0),0===(null==Z?void 0:Z.length)&&p(!0)},onChange:e=>{h&&(v("eats:search_type_started"),p(!1))},onBlur:()=>u(!1),ref:g});o.useEffect((()=>{e.expandedState&&g.current&&g.current.focus()}),[e.expandedState]);const f=e.expandedState?e.query.length>0:e.query.length>0&&i&&!e.isSearchFeed,x=(0,D.RAN)(l,["vertical"]).vertical||Y.g,b=null===(t=e.verticalLists)||void 0===t?void 0:t.find((e=>e.verticalType===x)),w=b&&!e.expandedState&&i&&e.isSearchFeed&&!e.isCategoryPage,S=()=>d(!1);(0,ne.Z)(n,S,s);const C={verticalList:null===(r=e.verticalLists)||void 0===r?void 0:r.map((e=>e.verticalType)).join(","),type:"DROPDOWN",surface:"SEARCH_RESULTS",searchTermText:e.query,previousSelectedVertical:(null==b?void 0:b.title)||Y.g,selectedVertical:(null==b?void 0:b.title)||Y.g};return(0,X.BX)(X.HY,{children:[(0,X.BX)(ue,{$isFocused:e.expandedState||c,children:[(0,X.tZ)(a.IQ,{}),(0,X.tZ)(he,{children:(0,X.tZ)(G.Z,{size:14})}),(0,X.tZ)(a.ZP,{$width:"16px"}),(0,X.tZ)(pe,{...y,value:Z||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===le.q7&&e.handleEnterClick&&e.query.length>0&&e.handleEnterClick()}}),(0,X.tZ)(a.ZP,{$width:"8px"}),f?(0,X.BX)(X.HY,{children:[(0,X.tZ)(ge,{type:"button",onClick:()=>{e.reset(),g.current&&(g.current.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,X.tZ)(j.v,{id:"shared.clear"})}),(0,X.tZ)(a.IQ,{})]}):null,w?(0,X.tZ)(ce,{selectedVertical:b,toggleDropdown:()=>d((e=>!e)),analyticsData:C}):null,e.onClose&&e.query.length>0?(0,X.tZ)(me,{}):null,e.onClose?(0,X.tZ)(ve,{onClick:e.onClose}):null]}),s?(0,X.tZ)("div",{ref:n,children:(0,X.tZ)(ie,{closeDropdown:S,analyticsData:C})}):null]})};var ye=r(41530),fe=r(51811),xe=r(6907),be=r(69881),we=r(94867),Se=r(92660),Ce=r(18805),_e=r(95666);const $e=(0,l.zo)("div",{display:"block"}),ke=(0,l.zo)("div",{width:"33%",display:"inline-block",verticalAlign:"top",paddingRight:"12px",boxSizing:"border-box"}),Ie=(0,l.zo)("img",{height:"60px",width:"60px",borderRadius:"100px",objectFit:"cover",display:"inline-block"}),Oe=(0,l.zo)("div",{marginBottom:"16px",width:"33%",height:"90px",display:"inline-block",verticalAlign:"top"}),Be=(0,l.zo)("div",{display:"block",width:"300px"}),ze=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{...t.typography.LabelSmall,textAlign:"center",margin:"0 2px"}})),Pe=(0,l.zo)("div",{textAlign:"center"});const De=function(e){const t=(0,m.TH)(),r=(0,v.T)(),i=(0,J.ZP)(),n=(0,o.useCallback)(((e,t,r)=>{i("eats:zero_state_search_suggestions_mc_clicked",{multiColumnZeroStateSearchItemClick:{columnTitle:e,suggestion:t,suggestionPosition:r}})}),[i]);return(0,o.useEffect)((()=>{i("eats:zero_state_search_suggestions_mc_view",{multiColumnZeroState:{column1Title:e.searches.searchHeading,column1Suggestion:e.searches.searches.map(((e,t)=>e.title)),column2Title:e.searches.middleRowHeading,column2Suggestion:e.searches.middleRow.map(((e,t)=>e.storeUuid)),column3Title:e.searches.categoriesHeading,column3Suggestion:e.searches.categories.map(((e,t)=>e.title))}})}),[i,e.searches.middleRowHeading,e.searches.searchHeading,e.searches,r,e.searches.categoriesHeading]),(0,X.BX)($e,{children:[(0,X.BX)(ke,{children:[(0,X.tZ)(U.L1,{title:e.searches.searchHeading}),e.searches.searches&&e.searches.searches.map(((r,o)=>(0,X.tZ)(U.rG,{onClick:()=>{e.onItemClick(),n(e.searches.searchHeading,r.title,o)},item:{title:r.title||"",iconType:"clock",eventData:void 0,url:{type:"link",to:(0,D.Xqq)(t,{vertical:"ALL",userQuery:r.title||"",searchSource:e.searches.hasRecentSearches?ye.xH.SEARCH_SUGGESTION:void 0})}},hasBorder:!1},o)))]}),e.searches.middleRow.length?(0,X.BX)(ke,{children:[(0,X.tZ)(U.L1,{title:e.searches.middleRowHeading}),e.searches.middleRow.map(((r,o)=>(0,X.tZ)(_e.Z,{onClick:()=>{e.onItemClick(),n(e.searches.middleRowHeading,r.storeUuid,o)},store:{...r,uuid:r.storeUuid,slug:r.storeSlug,categories:r.categories||[]},hasBorder:!1,url:r.actionUrl||(0,D.gfM)(t,{storeSlug:r.storeSlug,storeUuid:r.storeUuid})},r.storeUuid)))]}):null,(0,X.BX)(ke,{children:[(0,X.tZ)(U.L1,{title:e.searches.categoriesHeading}),(0,X.tZ)(Be,{children:e.searches.categories.map(((r,o)=>(0,X.tZ)(Ce.rU,{to:(0,D.Xqq)(t,{userQuery:r.title}),onClick:()=>{e.onItemClick(),n(e.searches.categoriesHeading,r.title,o)},children:(0,X.BX)(Oe,{children:[(0,X.tZ)(Pe,{children:(0,X.tZ)(Ie,{src:r.iconUrl})}),(0,X.tZ)(ze,{children:r.title})]})},o)))})]})]})},Le=(0,l.zo)("div",(e=>{let{$theme:t,$isFocused:r}=e;return{...t.typography.LabelMedium,backgroundColor:t.colors.inputFill,color:t.colors.inputText,width:"100%",display:"flex",position:"absolute",height:"48px",borderRadius:t.borders.pillButtonBorderRadius,alignItems:"center",right:"0",transform:"translateY(-50%)",...r?{maxWidth:"".concat(1494,"px"),minWidth:"".concat(600,"px")}:{maxWidth:"".concat(1036,"px"),minWidth:"".concat(180,"px")},transition:"min-width 400ms ease, max-width 400ms ease"}})),Te=(0,l.zo)("div",{display:"flex",flexShrink:0,alignSelf:"center"}),He=(0,l.zo)("input",(e=>{let{$theme:t,$width:r}=e;return{flex:1,backgroundColor:t.colors.inputFill,...r?{width:"".concat(r,"px")}:{},appearance:"none",outline:"none","::placeholder":{...t.typography.LabelMedium,color:t.colors.contentSecondary},textOverflow:"ellipsis",overflow:"hidden"}})),Re=(0,l.zo)("button",(e=>{let{$theme:t}=e;return{...t.typography.LabelMedium,color:t.colors.contentTertiary,cursor:"pointer"}})),Me=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{width:"1px",margin:"0 16px",backgroundColor:t.colors.borderOpaque}})),Ue=(0,l.zo)(Q.Z,{cursor:"pointer"}),Ee=e=>{const{showMultiVerticalSearchDropdown:t}=(0,N.Z)(),[r,i]=o.useState(!1),n=o.useRef(null),{value:l,...s}=e.getInputProps({onFocus:()=>{e.onFocus&&e.onFocus(),e.setExpandedState&&e.setExpandedState(),i(!0)},onBlur:()=>i(!1),ref:n});o.useEffect((()=>{var t;e.expandedState&&n.current&&(null==n||null===(t=n.current)||void 0===t||t.focus())}),[e.expandedState]);const d=e.expandedState?e.query.length>0:e.query.length>0&&t;return(0,X.tZ)(X.HY,{children:(0,X.BX)(Le,{$isFocused:e.expandedState||r,children:[(0,X.tZ)(a.IQ,{}),(0,X.tZ)(Te,{children:(0,X.tZ)(G.Z,{size:14})}),(0,X.tZ)(a.ZP,{$width:"16px"}),(0,X.tZ)(He,{...s,value:l||"",type:"text",autoComplete:"off",name:"searchTerm",placeholder:e.placeholder,$width:e.queryWidth,onKeyDown:t=>{t.keyCode===le.q7&&e.handleEnterClick&&e.query.length>0&&(e.handleEnterClick(),i(!1))}}),(0,X.tZ)(a.ZP,{$width:"8px"}),d?(0,X.BX)(X.HY,{children:[(0,X.tZ)(Re,{type:"button",onClick:()=>{var t;(e.reset(),n.current)&&(null==n||null===(t=n.current)||void 0===t||t.focus(),e.setExpandedState&&e.setExpandedState())},children:(0,X.tZ)(j.v,{id:"shared.clear"})}),(0,X.tZ)(a.IQ,{})]}):null,e.onClose&&e.query.length>0?(0,X.tZ)(Me,{}):null,e.onClose?(0,X.tZ)(Ue,{onClick:e.onClose}):null]})})};var Xe=r(2429),Ae=r(23743),Fe=r(77722);const qe="0.5s",Ve=(0,l.zo)("div",(e=>{let{$theme:t,$showOverlay:r}=e;return{...r?{...t.overlays.full,position:"fixed",top:0,left:0,right:0,height:"100vh",zIndex:p.I_.modal,overflow:"auto",transition:"all ".concat(qe," ease")}:{}}})),je=(0,l.w1)(s.Z,(e=>{let{$theme:t}=e;return{color:t.colors.onHeader,position:"relative",display:"flex",flexDirection:"row",alignItems:"center",height:p.sd}})),Ge=(0,l.w1)(fe.Z,{margin:"40px auto"}),Qe=(0,l.zo)("div",(e=>{let{$theme:t}=e;return{minHeight:"472px"}})),Ne=((0,l.zo)("div",{position:"relative"}),(0,l.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),(0,l.zo)("div",(e=>{let{$theme:t,$hasDivider:r}=e;return{width:"100%",background:t.colors.backgroundPrimary,margin:"0 auto"}}))),Ye=(0,l.zo)("div",{width:"100%",maxWidth:"722px"}),We=(0,l.zo)("div",{flex:1}),Ke=(0,l.zo)("div",{justifyContent:"flex-end",display:"flex",flexGrow:0,alignItems:"center"}),Je=(0,l.zo)("div",{flexGrow:1,display:"flex",width:"100%"}),et=(0,l.zo)("button",{display:"flex",flexDirection:"row",cursor:"pointer",whiteSpace:"nowrap"}),tt=(0,l.zo)("label",p.E2),rt=(0,l.zo)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",flexDirection:"row",zIndex:p.I_.modal,position:"absolute",background:t.colors.backgroundPrimary,width:"100%",maxWidth:"1920px",right:"0",left:"0",margin:"0 auto",boxShadow:"0 6px 4px -4px rgba(0, 0, 0, 0.1)",borderBottomColor:t.colors.borderOpaque,borderBottomStyle:"solid",borderBottomWidth:"1px",transform:"translateY(0)",...r?{opacity:"1"}:{height:"0",visibility:"hidden",opacity:"0"},transition:"all ".concat(qe," ease")}})),ot=(0,l.zo)("div",(e=>{let{$theme:t,$showPopover:r}=e;return{display:"flex",width:"100%",flexDirection:"column",...r?{visibility:"visible"}:{visibility:"hidden"}}})),it=e=>{var t,r,l,s;let{shouldNotRedirectToHomeFeed:p,showDiningMode:M,showCart:U,isSearchFeed:E,showSigninSignup:A,customizedDiningModeToggle:F,logSignInSignUpClick:j,campaign:G,storeUuid:Q}=e;const{user:N}=(0,$.Z)(),W=(0,n.I0)(),K=(0,g.k6)(),ee=(0,f.Z)(),te=(0,C.Z)(),re=null===(t=(0,u.t)({dropPastOrders:!0}).data)||void 0===t?void 0:t.verticalSuggestionLists,oe=(0,J.ZP)(),ie=(0,m.UO)(),{store:le}=(0,Xe.Z)(Q),ae=(null==le||null===(r=le.data)||void 0===r?void 0:r.title)||"";(0,o.useEffect)((()=>{re&&W((0,h.Vw)(re))}),[W,re]),(0,o.useEffect)((()=>{oe("eats:search_bar_impression")}),[oe]);const se=(0,d.WI)("header-location-typeahead"),{closeAndUpdate:de}=(0,w.Z)(),ce=(0,O.Z)(),ue=i.useRef(null),he=(0,m.TH)(),pe=(0,v.T)(),{userQuery:ge,vertical:me,storeSearchQuery:ve,entryPoint:fe}=(0,D.RAN)(he,["userQuery","vertical","storeSearchQuery","entryPoint"]),[Ce,_e]=(0,o.useState)(me||Y.g),[$e,ke]=(0,o.useState)(!1),{storeDishItemsXP:Ie}=(0,Ae.Z)(),Oe=(0,Fe.Z)(),Be=Boolean(Q),ze=Be?ye.OT.STORE_SEARCH:E?ye.OT.GLOBAL_SEARCH:""!==Oe?ye.OT.VERTICAL_FEED:ye.OT.HOME_FEED,{feed:Pe}=(0,B.Z)();(0,o.useEffect)((()=>{me&&_e(me)}),[me]);const Le=()=>{oe("eats:search_multi_vertical_bar_click"),oe("eats:search_bar_clicked"),ke(!0)},Te=()=>{ke(!1)},{query:He,results:Re,getInputProps:Me,getItemProps:Ue,getMenuProps:qe,reset:it,placeholder:nt,getLabelProps:lt,getSuggestionAction:at}=(0,L.Z)({..."shoppingList"===fe?{initialQuery:ge}:{initialQuery:ge||ve},initialIsClosed:!0,searchTypeaheadPlaceholder:pe("shared.mutilVerticalSearchBarHint"),vertical:Ce,onSuggestionSelected:Te,isMultiVerticalDesktop:!0}),st=Re.data||[],[dt,ct]=(0,o.useState)(!1),ut=(!Ce||Ce===Y.g)&&!He&&dt,ht=(0,we.E)(ut),pt=["t_restaurant","t_dishes"].includes(ht),gt=(0,Se.G)(ut),mt="postmates"===(0,T.Z)();let vt;vt=ce?(0,X.tZ)(I.Z,{startShoppingRedirect:!E&&!Be}):(0,X.tZ)(k.Z,{});const Zt=()=>{_e(me),Te()},yt=i.useRef(null);(0,ne.Z)(yt,(()=>{Zt()}),$e);(0,be.Z)((()=>{Te()}));const ft=Boolean(ae),xt=ft?pe("shared.searchInQuery",{query:ae}):nt;return(0,X.tZ)(Ve,{$showOverlay:$e,children:(0,X.BX)(Ne,{ref:yt,children:[(0,X.BX)(je,{children:[ee?null:(0,X.BX)(X.HY,{children:[(0,X.tZ)(_.Z,{}),(0,X.tZ)(a.ZP,{$width:"32px"}),(0,X.tZ)(Z.Z,{}),(0,X.tZ)(a.ZP,{$width:"40px"})]}),te?(0,X.BX)(X.HY,{children:[$e?null:(0,X.BX)(X.HY,{children:[M?(0,X.BX)(X.HY,{children:[F||(0,X.tZ)(S.Z,{isDisabled:Pe.isLoading}),(0,X.tZ)(a.ZP,{$width:"16px"})]}):null,(0,X.tZ)(y.Z,{size:"large",storeUuid:Q}),(0,X.tZ)(a.ZP,{$width:"48px"})]}),ee?null:(0,X.tZ)(Je,{ref:ue,children:(0,X.tZ)(Ne,{role:"search","aria-label":pe("shared.marketplaceSearchBarHintText"),children:(0,X.BX)(P.Z,{children:[(0,X.tZ)(tt,{...lt(),children:xt}),ft?(0,X.tZ)(Ee,{query:He,getInputProps:Me,reset:()=>{var e;it(),oe("eats:store_search_clear",{storeUuid:(null==le||null===(e=le.data)||void 0===e?void 0:e.uuid)||""})},placeholder:xt,setExpandedState:Le,expandedState:$e,handleEnterClick:()=>(()=>{var e;const t=(0,D.WxO)(ie),r=(0,D.CiO)(he,["entryPoint"]),o=(0,D.AC5)({location:r,args:t,storeSearchQuery:He});K.push(o),Te(),oe("eats:store_search_fetch_results_enter_press",{storeUuid:(null==le||null===(e=le.data)||void 0===e?void 0:e.uuid)||"",storeSearchQuery:He})})(),onFocus:()=>{var e,t,r,o;(ct(!0),oe("eats:store_search_grocery_entrypoint_click",{storeUuid:(null==le||null===(e=le.data)||void 0===e?void 0:e.uuid)||""}),He&&""!==He)||oe("eats:store_search_started",{searchSource:ze,storeUuid:(null==le||null===(t=le.data)||void 0===t?void 0:t.uuid)||"",searchDataInfo:{layer:"L1",tab:"SHOP",locationType:null==le||null===(r=le.data)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.locationType}})}}):(0,X.tZ)(Ze,{query:He,getInputProps:Me,reset:it,placeholder:nt,setExpandedState:Le,expandedState:$e,verticalLists:re,handleEnterClick:()=>(oe("eats:search_end",{userQuery:He,page:he.pathname,hasDeliveryLocation:Boolean(te),searchType:"manual"}),K.push((0,D.Xqq)(he,{vertical:Ce,userQuery:He,searchSource:ye.xH.SEARCH_BAR,searchType:"control"!==Ie?ye.Sc.GLOBAL_SEARCH:void 0})),void Te()),isSearchFeed:E,isCategoryPage:"CATEGORY_PAGE"===(null===(l=Pe.data)||void 0===l?void 0:l.searchDisplayConfig),onFocus:()=>{ct(!0),""===He&&"HOME_FEED"===ze&&oe("eats:search_start",{page:he.pathname,hasDeliveryLocation:Boolean(te),mvsMeta:{verticalList:(null==re?void 0:re.map((e=>e.verticalType)).join(","))||"",selectedVertical:Ce||Y.g},searchSource:ze})}})]})})}),(0,X.tZ)(a.ZP,{$width:"24px"})]}):(0,X.BX)(X.HY,{children:[(0,X.tZ)(a.ZP,{$width:"64px"}),(0,X.tZ)(Ye,{children:(0,X.tZ)(b.Z,{registerRef:se,onLocationSelected:e=>{de(e,void 0,p)},initialQuery:te?te.address.address1:"",id:"header"})}),(0,X.tZ)(We,{})]}),(0,X.tZ)(Ke,{children:$e?(0,X.BX)(X.HY,{children:[(0,X.tZ)(a.jm,{}),(0,X.tZ)(et,{onClick:()=>{Zt()},children:(0,X.tZ)(V.Z,{size:18})}),(0,X.tZ)(c.Z,{})]}):(0,X.BX)(X.HY,{children:[te||U?(0,X.tZ)(x.Z,{}):null,(0,X.tZ)(X.HY,{children:vt}),(0,X.tZ)(c.Z,{}),null!==(s=N.data)&&void 0!==s&&s.isLoggedIn?null:(0,X.BX)(X.HY,{children:[(0,X.tZ)(a.ZP,{$width:"24px"}),A?(0,X.tZ)(z.m,{campaign:G}):(0,X.tZ)(xe.Z,{campaign:G,beforeClick:()=>{j&&j("signin","header")}})]})]})})]}),ft?null:(0,X.BX)(rt,{$showPopover:$e,children:[(0,X.tZ)(a.KG,{$width:mt?"260px":"282px"}),(0,X.BX)(ot,{$showPopover:$e,children:[(0,X.tZ)(H.Z,{onSelect:e=>{_e(e)},selectedVertical:Ce,expandedState:$e,surface:"ZERO_STATE"}),(0,X.BX)(Qe,{children:[(0,X.tZ)(R.ZP,{$height:20}),st.length>0?pt?(0,X.tZ)(De,{searches:gt,onItemClick:Te}):(0,X.tZ)(q,{vertical:Ce,suggestions:st,getMenuProps:qe,getItemProps:Ue,query:He,onItemClick:(e,t)=>{Te(),oe("eats:search_end",{userQuery:null==e?void 0:e.title,page:he.pathname,hasDeliveryLocation:Boolean(te),mvsMeta:{verticalList:(re||[]).map((e=>e.verticalType)).join(","),selectedVertical:Ce||Y.g},searchType:"suggestion"})},getSuggestionAction:at}):(0,X.tZ)(Ge,{}),(0,X.tZ)(R.ZP,{$height:69})]})]}),(0,X.tZ)(a.KG,{$width:"148px"})]})]})})}},63795:(e,t,r)=>{r.d(t,{Z:()=>Z});var o=r(36151),i=r(58980),n=r(28398),l=r(18744),a=r.n(l),s=r(97802),d=r(72403),c=r(81933),u=r(23418),h=r(19474),p=r(33990);const g=(0,s.zo)("ul",(e=>{let{$theme:t,$width:r}=e;return{display:"flex",textAlign:"center",marginBottom:"8px",width:r?"".concat(r,"px"):"100%",height:"56px",transition:"opacity .45s .5s,visibility .45s .5s,transform .45s ease .3s"}})),m=(0,s.zo)("li",(e=>{let{$theme:t,$isSelected:r}=e;return{...t.typography.LabelSmall,borderBottom:"5px solid ".concat(r?t.colors.black:t.colors.borderOpaque),alignSelf:"center",padding:"16px",cursor:"pointer",":hover":{background:t.colors.menuFillHover}}})),v=(0,s.zo)("li",(e=>{let{$theme:t}=e;return{borderBottom:"5px solid ".concat(t.colors.borderOpaque),flexGrow:1,padding:"24px",alignSelf:"center"}})),Z=e=>{const t=(0,i.TH)(),r=(0,h.ZP)(),l=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),{userQuery:s}=(0,d.RAN)(t,["userQuery"]),[Z,y]=(0,o.useState)(!1),f=(0,u.t)({dropPastOrders:!0}),x=(0,o.useCallback)((e=>{var t,r;return(null==f||null===(t=f.data)||void 0===t||null===(r=t.verticalSearchHomeResults[e])||void 0===r?void 0:r.length)||0}),[f]),b=(0,o.useMemo)((()=>({verticalList:l.map((e=>e.verticalType)).join(","),type:"TAB",surface:e.surface,searchTermText:s,previousSelectedVertical:e.selectedVertical||c.g,selectedVertical:e.selectedVertical||c.g})),[l,e.selectedVertical,e.surface,s]),w=(0,o.useCallback)((t=>()=>{e.onSelect&&e.onSelect(t),r("eats:search_vertical_tab_tapped",{mvsMeta:{...b,selectedVertical:t}}),e.expandedState&&r("eats:global_search_zero_state_viewed",{numberOfSuggestions:x(t),mvsMeta:{verticalList:b.verticalList,selectedVertical:t}})}),[e,r,b,x]),S=a()((()=>{r("eats:search_vertical_tab_scrolled",{mvsMeta:b})}),1e3);return(0,o.useEffect)((()=>{f.data&&!Z&&e.expandedState&&(y(!0),r("eats:global_search_zero_state_viewed",{numberOfSuggestions:x(b.selectedVertical),mvsMeta:{verticalList:b.verticalList,selectedVertical:b.selectedVertical}}))}),[f,r,x,b.verticalList,b.selectedVertical,Z,e.expandedState]),(0,o.useEffect)((()=>{r("eats:search_vertical_tab_view",{mvsMeta:b})}),[]),l.length>1?(0,p.BX)(g,{$width:e.tableWidth,onScroll:S,children:[l.map(((t,r)=>(0,p.tZ)(m,{onClick:w(t.verticalType),$isSelected:t.verticalType===(e.selectedVertical||c.g),children:t.title},r))),(0,p.tZ)(v,{})]}):null}},45755:(e,t,r)=>{r.d(t,{C:()=>l});var o=r(85558),i=r(72403),n=r(41530);function l(e,t,r){return e.actionUrl?t?{type:"anchor",href:(0,o.W)(e.actionUrl)}:{type:"anchor",href:e.actionUrl}:{type:"link",to:(0,i.gfM)(r,{storeSlug:e.slug,storeUuid:e.uuid,newQueryParams:{searchSource:n.xH.SEARCH_SUGGESTION}})}}},23418:(e,t,r)=>{r.d(t,{t:()=>l});var o=r(17211),i=r(92614),n=r(93026);function l(e,t){const r=(0,n.Z)("getSearchHomeV2"),l=(0,i.H)("getSearchHomeV2",e);return(0,o.useQuery)({queryKey:l,queryFn:e=>{let{queryKey:t}=e;return r.request("getSearchHomeV2",t[1])},...null==t?void 0:t.queryObserverOptions})}},71091:(e,t,r)=>{r.d(t,{Z:()=>h});var o=r(43193),i=r(7903),n=r(58980),l=r(72403),a=r(19474),s=r(28817),d=r(52269),c=r(92036);const u={location:"eats:enter_delivery_address_start",time:"",search:"eats:search_start",user:"eats:user_menu_open",diningMode:"eats:dining_mode_menu_open"};function h(){const[e,t]=o.useState(null),r=(0,n.TH)(),h=(0,i.k6)(),p=(0,a.ZP)(),g=(0,s.Z)(),m=(0,d.Z)(),{user:v}=(0,c.Z)(),Z=()=>t(null);return{activeMenu:e,openMenu:e=>{const r=e&&u[e];r&&p(r),t(e)},closeMenu:Z,closeAndUpdate:(e,t,o)=>{if(Z(),m(e,t),!e||o)return;if(e.address.title!==(null==g?void 0:g.address.title))return h.push((0,l.dat)(r,{deliveryLocation:e}));const i=(0,l.RAN)(r,["place","startTime"]);(i.place||i.startTime)&&h.push((0,l.m0g)(r,e,t||{asap:!0}))},user:v}}},14342:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(36151),i=r(23773),n=r(13466),l=r(55932),a=r(49633),s=r(92036);const d=e=>{const t=(0,i.T)(),{fetchLocations:r,handleLocationSelected:d,areLocationDetailsLoading:c,placeholder:u}=(0,n.Z)({onLocationSelected:e.onLocationSelected}),{user:h}=(0,s.Z)(),p=(0,a.Z)("getTaggedLocationsV1"),g=t=>t.isTaggedLocation?(e.onLocationSelected(t.address),Promise.resolve()):d(t),m=(e,t)=>{const r=null==t?void 0:t[0];r&&g(r)},v=o.useCallback((e=>{let{results:r,query:o}=e;return 0===r.length?o?t("components.DeliveryLocationSearch.noResults"):"":o?t("components.MarketplaceSearch.resultsDescription",{numResults:r.length,searchTerm:o}):t("shared.searchResultsCount",{resultsCount:r.length})}),[]),{query:Z,results:y,getLabelProps:f,getInputProps:x,getMenuProps:b,getItemProps:w,reset:S,highlightedIndex:C,isOpen:_,openMenu:$}=(0,l.Z)({id:"location-typeahead-".concat(e.id),initialQuery:e.initialQuery,fetchResults:e=>{var t;return null!==(t=h.data)&&void 0!==t&&t.isLoggedIn&&0===e.length?p():r(e)},onResultSelected:g,getQueryFromResult:e=>e?e.isTaggedLocation?e.address.address.address1:(null==e?void 0:e.addressLine1)||"":"",initialIsClosed:e.initialIsClosed,onEnterKeyWithNoSelectedResult:m,getA11yStatusMessage:v});return{query:Z,locations:y,getLabelProps:f,getInputProps:x,getMenuProps:b,getItemProps:w,reset:S,highlightedIndex:C,placeholder:u,isLoading:c||y.isLoading,showTryAgainMessage:Boolean(Z&&y.hasLoaded&&y.data&&0===y.data.length),isOpen:_,openMenu:$,onSubmitWithNoSelectedResult:m}}},13466:(e,t,r)=>{r.d(t,{Z:()=>d});var o=r(36151),i=r(23773),n=r(49633),l=r(57996),a=r(47256),s=r(81378);const d=e=>{let{onLocationSelected:t,overrideDiningMode:r}=e;const[d,c]=(0,o.useState)(!1),u=(0,i.T)(),h=(0,a.d)(),p=null!=r?r:h;let g;g=p===s.k5.DINE_IN?u("shared.enterDineInAddress"):p===s.k5.PICKUP?u("shared.enterPickupAddress"):p===s.k5.DELIVERY_API?u("shared.enterFullDeliveryAddress"):u("shared.enterDeliveryAddress");const m=(0,n.Z)("getLocationAutocompleteV1"),v=(0,n.Z)("getDeliveryLocationV1");return{fetchLocations:e=>e?m({query:e}):Promise.resolve([]),handleLocationSelected:(0,o.useCallback)((e=>(c(!0),v({placeId:e.id,provider:e.provider,source:"manual_auto_complete"}).then((e=>{c(!1),t(e)})).catch((e=>{e instanceof l.F||c(!1)})))),[v,t]),areLocationDetailsLoading:d,placeholder:g}}},76401:(e,t,r)=>{r.d(t,{Z:()=>h});var o=r(36151),i=r(58980),n=r(28398),l=r(19474),a=r(47256),s=r(72403),d=r(81933),c=r(74482),u=r(65925);const h=()=>{const e=(0,c.hU)(),t=(0,u.Z)(),r=e.isMobile||t,h=(0,n.v)((e=>{let{multiVertical:t}=e;return t.verticalList})),p=(0,a.d)(),g=(0,i.TH)(),{vertical:m,userQuery:v}=(0,s.RAN)(g,["vertical","userQuery"]),[Z,y]=o.useState(Boolean(r)&&"PICKUP"!==p&&!v),[f,x]=o.useState(!0),b=(0,l.ZP)(),w=o.useCallback((e=>{r&&b("eats:search_end",{userQuery:e,mvsMeta:{verticalList:h.map((e=>e.verticalType)).join(","),selectedVertical:m||d.g}})}),[b,r,h,m]),S=o.useCallback((e=>{b("eats:search_home_item_click",e)}),[b]),C=o.useCallback((e=>{b("eats:search_home_item_view",e)}),[b]);return{trackSearchCategoryClick:w,showSearchHome:Z,showPastOrdersSuggestions:f,setShowPastOrdersSuggestions:x,searchShortcutsEnabled:r,setShowSearchHome:e=>{r&&y(e)},trackSearchHomeItemClick:S,trackSearchHomeItemView:C}}}}]);