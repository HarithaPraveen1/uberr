"use strict";(self.webpackChunkFusion=self.webpackChunkFusion||[]).push([[80876],{12372:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(36151),n=r(26880),o=r(41445);const a="expand";var d=r(33990);function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends i.Component{constructor(){super(...arguments),s(this,"state",{expanded:[],...this.props.initialState}),s(this,"itemRefs",[])}onPanelChange(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n];let o=this.state.expanded;const{accordion:d}=this.props;if(d)o=o[0]===e?[]:[e];else{o=[...o];const t=o.indexOf(e);t>-1?o.splice(t,1):o.push(e)}const s={expanded:o};this.internalSetState(a,s),"function"==typeof t&&t(...i)}internalSetState(e,t){const{stateReducer:r,onChange:i}=this.props,n=r(e,t,this.state);this.setState(n),"function"==typeof i&&i(n)}handleKeyDown(e){if(this.props.disabled)return;const t=this.itemRefs;if(36===e.keyCode){e.preventDefault();const r=t[0];r.current&&r.current.focus()}if(35===e.keyCode){e.preventDefault();const r=t[t.length-1];r.current&&r.current.focus()}if(38===e.keyCode){e.preventDefault();const r=t.findIndex((e=>e.current===document.activeElement));if(r>0){const e=t[r-1];e.current&&e.current.focus()}}if(40===e.keyCode){e.preventDefault();const r=t.findIndex((e=>e.current===document.activeElement));if(r<t.length-1){const e=t[r+1];e.current&&e.current.focus()}}}getItems(){var e=this;const{expanded:t}=this.state,{accordion:r,disabled:n,children:o,renderAll:a,overrides:d}=this.props;return i.Children.map(o,((o,s)=>{if(!o)return;const l=i.createRef();this.itemRefs.push(l);const c=o.key||String(s);let u=!1;u=r?t[0]===c:t.includes(c);const p={key:c,ref:l,expanded:u||o.props.expanded,accordion:r,renderAll:a,overrides:o.props.overrides||d,disabled:o.props.disabled||n,onChange:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.onPanelChange(c,o.props.onChange,...r)}};return i.cloneElement(o,p)}))}render(){const{overrides:e={}}=this.props,{Root:t}=e,[r,i]=(0,n.jb)(t,o.fC);return(0,d.tZ)(r,{"data-baseweb":"accordion",$disabled:this.props.disabled,$isFocusVisible:!1,onKeyDown:this.handleKeyDown.bind(this),...i,children:this.getItems()})}}s(l,"defaultProps",{accordion:!0,disabled:!1,initialState:{expanded:[]},onChange:()=>{},overrides:{},renderAll:!1,stateReducer:(e,t)=>t})},66219:(e,t,r)=>{r.d(t,{Z:()=>h});var i=r(36151),n=r(38627),o=r(26880),a=r(34186),d=r(33990);function s(e,t){const[,r]=(0,n.hQ)(),{title:i="Down Small",size:s,color:l,overrides:c={},...u}=e,p=(0,o.vt)({component:r.icons&&r.icons.ChevronDownSmall?r.icons.ChevronDownSmall:null},c&&c.Svg?(0,o.hq)(c.Svg):{});return(0,d.BX)(a.Z,{viewBox:"0 0 24 24",ref:t,title:i,size:s,color:l,overrides:{Svg:p},...u,children:[(0,d.tZ)("rect",{width:"24",height:"24",fill:"white"}),(0,d.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9394 15.5607C11.5252 16.1464 12.4749 16.1464 13.0607 15.5607L17.0607 11.5607C17.6465 10.9749 17.6465 10.0251 17.0607 9.43934C16.4749 8.85355 15.5252 8.85355 14.9394 9.43934L12 12.3787L9.06069 9.43934C8.4749 8.85355 7.52515 8.85355 6.93937 9.43934C6.35358 10.0251 6.35358 10.9749 6.93937 11.5607L10.9394 15.5607Z",fill:"black"})]})}const l=i.forwardRef(s);var c=r(50993),u=r(41445),p=r(55455);const m=(e,t)=>{let{"aria-controls":r,children:n,disabled:a=!1,expanded:s=!1,onChange:m=(()=>{}),onClick:g=(()=>{}),onKeyDown:h=(()=>{}),overrides:f={},title:v="",renderAll:y=!1}=e;const[Z,C]=i.useState({expanded:s,isFocusVisible:!1,elementHeight:0,animationInProgress:!1}),b=i.useCallback((e=>{(0,p.E)(e)&&C({...Z,isFocusVisible:!0})}),[Z]),x=i.useCallback((e=>{Z.isFocusVisible&&C({...Z,isFocusVisible:!1})}),[Z]),I=i.useCallback((e=>{a||("function"==typeof m&&m({expanded:!s}),"function"==typeof g&&g(e))}),[s,a,m,g]),B=i.useCallback((e=>{if(a)return;13!==e.keyCode&&32!==e.keyCode||("function"==typeof m&&m({expanded:!s}),32===e.keyCode&&e.preventDefault()),"function"==typeof h&&h(e)}),[s,a,m,h]),O=i.useRef(null);i.useEffect((()=>{if(O.current){const e=O.current.getBoundingClientRect().height;s!==Z.expanded?C({...Z,expanded:s,animationInProgress:!0}):parseInt(Z.elementHeight)!==e&&C({...Z,elementHeight:e?"".concat(e,"px"):0})}}),[O.current,s,Z.elementHeight,Z.expanded,C]);const k=i.useMemo((()=>{if(!s&&Z.expanded){const e=O.current.getBoundingClientRect().height;return C({...Z,elementHeight:e?"".concat(e,"px"):0}),Z.elementHeight}return Z.expanded?Z.animationInProgress?Z.elementHeight:"auto":0}),[s,Z.expanded,Z.animationInProgress,Z.elementHeight]),S={$disabled:a,$expanded:s,$isFocusVisible:Z.isFocusVisible},{PanelContainer:w,Header:P,Content:M,ContentAnimationContainer:z,ToggleIcon:U,ToggleIconGroup:$}=f,[T,D]=(0,o.jb)(w,u.lk),[_,R]=(0,o.jb)(P,u.h4),[E,H]=(0,o.jb)(M,u.VY),[L,V]=(0,o.jb)(z,u.D7),[F,G]=(0,o.jb)($,u.bx),[Q,j]=(0,o.jb)(U,u.Xs);return(0,d.tZ)(c.R.Consumer,{children:e=>(0,d.BX)(T,{...S,...D,children:[(0,d.BX)(_,{tabIndex:0,role:"button","aria-expanded":s,"aria-disabled":a||null,...S,...R,...r?{"aria-controls":r}:{},onClick:I,onKeyDown:B,onFocus:(0,p.Ah)(R,b),onBlur:(0,p.Z5)(R,x),ref:t,children:[v,(0,d.tZ)(Q,{viewBox:"0 0 24 24",title:Z.expanded?e.accordion.collapse:e.accordion.expand,$size:24,...j,...S,children:(0,d.tZ)(F,{...S,...G,children:(0,d.tZ)(l,{})})})]}),(0,d.tZ)(L,{...S,...V,$height:k,onTransitionEnd:()=>{Z.animationInProgress&&C({...Z,animationInProgress:!1})},children:(0,d.tZ)(E,{ref:O,...S,...H,...r?{id:r}:{},children:Z.expanded||y||Z.animationInProgress?n:null})})]})})},g=i.forwardRef(m);g.displayName="Panel";const h=g},41445:(e,t,r)=>{r.d(t,{D7:()=>u,VY:()=>c,Xs:()=>s,bx:()=>l,fC:()=>o,h4:()=>d,lk:()=>a});var i=r(38627),n=r(48019);const o=(0,i.zo)("ul",{listStyleType:"none",marginBottom:0,marginTop:0,paddingLeft:0,paddingRight:0,width:"100%"});o.displayName="Root";const a=(0,i.zo)("li",(e=>{const{$expanded:t,$theme:{colors:r}}=e;return{listStyleType:"none",width:"100%",borderBottomWidth:"1px",borderBottomStyle:"solid",borderBottomColor:r.borderOpaque}}));a.displayName="PanelContainer";const d=(0,i.zo)("div",(e=>{const{$disabled:t,$isFocusVisible:r,$theme:{colors:i,sizing:n,typography:o}}=e;return{...o.font350,color:i.contentPrimary,cursor:t?"not-allowed":"pointer",backgroundColor:i.listHeaderFill,paddingTop:n.scale600,paddingBottom:n.scale600,paddingLeft:n.scale700,paddingRight:n.scale700,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,display:"flex",alignItems:"center",outline:r?"3px solid ".concat(i.borderAccent):"none",outlineOffset:"-3px",justifyContent:"space-between",":hover":{color:i.contentPrimary}}}));d.displayName="Header";const s=(0,i.zo)("svg",(e=>{const{$theme:t,$disabled:r,$color:i}=e;return{...(0,n.u)(e),flexShrink:0,color:i||t.colors.contentPrimary,cursor:r?"not-allowed":"pointer"}}));s.displayName="ToggleIcon";const l=(0,i.zo)("g",(e=>{const{$theme:t,$expanded:r}=e;return{transform:r?"rotate(-180deg)":"rotate(0)",transformOrigin:"center",transitionProperty:"transform",transitionDuration:t.animation.timing500,transitionTimingFunction:t.animation.easeOutQuinticCurve}}));l.displayName="ToggleIconGroup";const c=(0,i.zo)("div",(e=>{const{$theme:{animation:t,colors:r,sizing:i,typography:n},$expanded:o}=e;return{...n.font200,backgroundColor:r.listBodyFill,color:r.contentPrimary,paddingTop:i.scale800,paddingBottom:i.scale1000,paddingLeft:i.scale800,paddingRight:i.scale800,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,boxSizing:"border-box",overflow:"hidden",opacity:o?1:0,visibility:o?"visible":"hidden",transitionProperty:"opacity,visibility",transitionDuration:t.timing500,transitionDelay:t.timing200,transitionTimingFunction:t.easeOutQuinticCurve}}));c.displayName="Content";const u=(0,i.zo)("div",(e=>{const{$height:t,$theme:{animation:r}}=e;return{height:"".concat(t),overflow:"hidden",transitionProperty:"height",transitionDuration:r.timing500,transitionTimingFunction:r.easeOutQuinticCurve}}));u.displayName="ContentAnimationContainer"},97814:(e,t,r)=>{r.d(t,{K:()=>u,Z:()=>p});var i=r(97802),n=r(80130),o=r(85019),a=r(33990);const d={width:"40px",height:"40px",borderRadius:"50%",flexShrink:0},s=(0,i.zo)(n.Z,{...d}),l=(0,i.zo)("div",{position:"relative"}),c=(0,i.zo)("div",(e=>{let{$theme:t,$mask:r}=e;return{...d,...r==u.POSITIVE?{backgroundColor:t.colors.contentPositive}:{},opacity:.7,position:"absolute",top:0,display:"flex",justifyContent:"center",alignItems:"center"}})),u={POSITIVE:"POSITIVE"},p=e=>e.$mask?(0,a.BX)(l,{children:[(0,a.tZ)(s,{src:e.avatarUrl}),(0,a.tZ)(c,{$mask:e.$mask,children:e.$mask==u.POSITIVE?(0,a.tZ)(o.Z,{type:"Checkmark",color:"white",height:"16px",width:"18px"}):null})]}):(0,a.tZ)(s,{src:e.avatarUrl})},52932:(e,t,r)=>{r.d(t,{Z:()=>a});var i=r(96361),n=r(16688),o=r(13028);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,n.Z)("canonical_product_smart_cart"),r=["cartItems","subtotal","basketSize","promotion","restrictedItems","venueSectionPicker","locationInfo",...t?["canonicalProductStorePickerPayload","storeSwitcherActionableBannerPayload"]:[]];return(0,i.Z)(e),(0,o.ZP)(r)}},80876:(e,t,r)=>{r.d(t,{cp:()=>pe,aM:()=>se,pS:()=>de,Ef:()=>ce,q4:()=>oe,jf:()=>me});var i=r(43193),n=r(58980),o=r(2720),a=r(12372),d=r(66219),s=r("__fusion__441"),l=r(8237),c=r(97802),u=r(81584),p=r(72403),m=r(48899),g=r(70300),h=r(7903),f=r(97174),v=r(11183),y=r(47142),Z=r(75057),C=r(9266),b=r(97814),x=r(97483),I=r(78500),B=r(23773),O=r(14570),k=r(48172),S=r(33990);const w=(0,c.zo)("div",{minWidth:"200px",display:"flex",alignItems:"center"});function P(e){let{numItems:t,isCurrentUser:r,isDraftOrderCreator:i,cartByMember:n,isBillSplitOrder:a}=e;const d=(0,B.T)(),[,s]=(0,c.hQ)(),l=()=>(0,S.tZ)(o.aM,{color:s.colors.contentSecondary,children:(0,S.tZ)(g.v,{id:"go.no_items_added_yet"})}),u=()=>(0,S.BX)(w,{children:[(0,S.tZ)(o.S$,{color:s.colors.positive,children:(0,S.tZ)(g.v,{id:"go.participant.checked.out.subtext"})}),(0,S.tZ)(O.Z,{}),(0,S.tZ)(o.aM,{color:s.colors.contentPrimary,children:d(1===t?"go.single_cart_item":"go.multiple_cart_items",{num:t})})]});if(a)if(i){if(!r)return 0===t?(0,S.tZ)(l,{}):null!=n&&n.confirmed?(0,S.tZ)(o.S$,{color:s.colors.positive,children:(0,S.tZ)(g.v,{id:"go.participant.has.paid"})}):(0,S.tZ)(o.S$,{color:s.colors.contentWarning,children:(0,S.tZ)(g.v,{id:"go.participant.has.not.paid"})});if(0===t)return(0,S.tZ)(l,{})}else{if(r)return 0===t?(0,S.tZ)(o.S$,{color:s.colors.contentWarning,children:(0,S.tZ)(g.v,{id:"go.banner_add_items"})}):null!=n&&n.confirmed?(0,S.tZ)(u,{}):(0,S.tZ)(k.Z,{width:"240px",children:(0,S.tZ)(o.S$,{color:s.colors.contentWarning,children:(0,S.tZ)(g.v,{id:"go.participant.not.paid.subtext"})})});if(0===t)return(0,S.tZ)(l,{})}else if(!a)if(i){if(0===t)return(0,S.tZ)(l,{})}else{if(r)return 0===t?(0,S.tZ)(o.S$,{color:s.colors.contentWarning,children:(0,S.tZ)(g.v,{id:"go.banner_add_items"})}):(0,S.tZ)(u,{});if(0===t)return(0,S.tZ)(l,{})}return 1===t?(0,S.tZ)(o.aM,{color:s.colors.contentPrimary,children:d("go.single_cart_item",{num:t})}):(0,S.tZ)(o.aM,{color:s.colors.contentPrimary,children:d("go.multiple_cart_items",{num:t})})}var M=r(4154),z=r(59264),U=r(7630);const $=(0,c.zo)("div",{display:"flex",flex:1}),T=(0,c.zo)("div",{display:"flex",flexDirection:"column",alignItems:"flex-start"}),D=(0,c.zo)("div",{marginBottom:"4px"}),_=(0,c.zo)("div",{display:"flex",flexDirection:"row"}),R=(0,c.zo)("div",{display:"inline-flex",alignItems:"center"}),E=(0,c.zo)("div",{justifyContent:"center",paddingBottom:"16px"}),H=e=>{const{cartByMember:t,showMask:r=!0,avatarUrl:i}=e;return(0,S.tZ)(b.Z,{avatarUrl:i,$mask:t.confirmed&&r?b.K.POSITIVE:void 0})},L=e=>{const{cartByMember:t,participantNumItems:r,isDraftOrderCreator:i,isBillSplitOrder:n}=e;return(0,S.tZ)($,{children:(0,S.BX)(T,{children:[(0,S.tZ)(D,{children:(0,S.tZ)(o.Uc,{children:t.isCurrentUser?(0,S.tZ)(g.v,{id:"go.cart_summary_current_user",data:{name:t.name}}):t.name})}),(0,S.tZ)(R,{children:(0,S.tZ)(P,{numItems:r,isDraftOrderCreator:i,isCurrentUser:t.isCurrentUser,cartByMember:t,isBillSplitOrder:n})})]})})},V=e=>{var t;const{cartByMember:r,updateItemQuantity:i,getItemClickUrl:n,draftOrderMetadata:o,canEditGroupOrderCart:a}=e,{serverCart:d}=(0,f.iQ)(),s=(0,u.Tg)((null===(t=d.data)||void 0===t?void 0:t.items)||[]),{isDraftOrderParticipant:l,isDraftOrderCreator:c,isBillSplitOrder:p,isDraftOrderCartLocked:g}=o;return(0,S.tZ)(y.Z,{separator:()=>(0,S.tZ)(m.Z,{$margin:"16px 0",$height:"1px"}),children:r.items.map(((e,t)=>{var o;const{shoppingCartItemUuid:u,title:m,specialInstructions:h,customizations:f}=e,v=s[u]||[],y=d.isLoading||!a||l&&!r.isCurrentUser||p&&!r.isCreator&&(c||g),C=(0,U.O$)(e.pricedByUnit);return(0,S.BX)(_,{children:[(0,S.tZ)(M.Z,{itemUuid:e.uuid,value:e.quantity,updateItemQuantity:t=>i(e.shoppingCartItemUuid,t),disabled:y,pricedByUnit:e.pricedByUnit,itemQuantity:e.itemQuantity,sellingOption:e.sellingOption,isInCart:!0}),(0,S.tZ)(Z.ZP,{$width:"16px"}),(0,S.tZ)(z.Z,{itemUuid:e.uuid,storeUuid:e.storeUuid,isDisabled:y||C,to:n(e,r.isCurrentUser),title:m,allCustomizations:f,changedCustomizations:v,currencyCode:(null===(o=d.data)||void 0===o?void 0:o.currencyCode)||"",shoppingCartItemUuid:u,specialInstructions:h})]},"grouped-eater-item-".concat(t))}))})},F=e=>{const t=(0,h.k6)(),r=(0,n.TH)(),i=(0,v.I0)(),{cartByMember:o,draftOrderMetadata:a}=e,d=a.isDraftOrderCreator&&!o.isCurrentUser,s=a.isHandledHighCapacityOrder;return d?(0,S.tZ)(E,{children:(0,S.BX)(C.Bi,{onClick:()=>{i((0,I.i0)(o)),t.push((0,p.vN_)(r,"removeParticipant"))},children:[(0,S.tZ)(x.Z,{size:16,color:"negative"}),(0,S.tZ)(Z.ZP,{$width:"8px"}),s?(0,S.tZ)(g.v,{id:"shared.remove_guest_by_name",data:{name:o.name||""}}):(0,S.tZ)(g.v,{id:"shared.remove_person"})]})}):null};var G=r(17308),Q=r(21954),j=r(2429),A=r(503),X=r(52932),N=r(31808),Y=r(22662),K=r(58700),W=r(6385);const q=(0,c.zo)("div",{flexGrow:1}),J=(0,c.zo)("div",{flex:1}),ee={width:"100%",display:"flex",justifyContent:"space-between"},te=(0,c.zo)("button",{...ee,cursor:"pointer"}),re=(0,c.zo)("div",{...ee}),ie=(0,c.zo)("li",{display:"flex",flexDirection:"row",alignItems:"flex-start"}),ne=(0,c.zo)("span",(e=>{let{$theme:t}=e;return{background:t.colors.contentWarning,display:"flex",width:"40px",height:"40px",borderRadius:"100%",justifyContent:"center",alignItems:"center"}})),oe=e=>{const{cartMemberIndex:t,cartByMember:r,getItemClickUrl:n,updateItemQuantity:o,draftOrderMetadata:a,canEditGroupOrderCart:d,startExpanded:p,showRemoveParticipantButton:m}=e,[,g]=(0,c.hQ)(),[h,f]=i.useState(Boolean(p)),v=(0,u.dH)(r.items),{isDraftOrderCreator:y}=a,C=v>0,b=y?r.isCurrentUser&&C||!r.isCurrentUser:C,x=a.billSplitOption===l.x.SPLIT_BY_SUBTOTAL,I=r.isCurrentUser&&!y&&x&&!(null!=r&&r.confirmed);return(0,S.tZ)(i.Fragment,{children:(0,S.BX)(ie,{children:[I?(0,S.tZ)(ne,{children:(0,S.tZ)(s.default,{color:g.colors.primaryB,size:16})}):(0,S.tZ)(H,{showMask:!1,cartByMember:r,avatarUrl:r.avatarUrl}),(0,S.tZ)(Z.Tr,{}),(0,S.BX)(q,{children:[b?(0,S.BX)(te,{onClick:()=>f(!h),children:[(0,S.tZ)(L,{cartByMember:r,isDraftOrderCreator:y,participantNumItems:v,isBillSplitOrder:x}),(0,S.tZ)(J,{}),h?(0,S.tZ)(Y.c.TriangleUp,{size:24}):(0,S.tZ)(Y.c.TriangleDown,{size:24})]}):(0,S.tZ)(re,{children:(0,S.tZ)(L,{cartByMember:r,isDraftOrderCreator:y,participantNumItems:v,isBillSplitOrder:x})}),h?(0,S.BX)(S.HY,{children:[(0,S.tZ)(G.ZP,{$height:12}),(0,S.tZ)(V,{cartByMember:r,updateItemQuantity:o,getItemClickUrl:n,draftOrderMetadata:a,canEditGroupOrderCart:d}),m?(0,S.BX)(S.HY,{children:[(0,S.tZ)(G.ZP,{$height:12}),(0,S.tZ)(F,{cartByMember:r,draftOrderMetadata:a})]}):null]}):null]})]},"grouped-eater-".concat(t))},t)},ae=(0,c.zo)("div",{padding:"0 16px"}),de=e=>{let{cartByMember:t,showRemoveParticipantButton:r,cartMemberIndex:i,startExpanded:n=!1,updateCartItemQuantity:o,location:a,isDraftOrderCreator:d,canEditGroupOrderCart:s,storeUuid:l,storeSlug:c,draftOrderMetadata:u}=e;return(0,S.BX)("div",{children:[(0,S.tZ)(G.ZP,{$height:16}),(0,S.tZ)(ae,{children:(0,S.tZ)(oe,{cartByMember:t,cartMemberIndex:i,startExpanded:n,updateItemQuantity:o,getItemClickUrl:(e,t)=>d||t?(0,p.lVP)(a,{itemUuid:e.shoppingCartItemUuid}):(0,p.yz4)({location:a,args:{storeUuid:l,storeSlug:c,sectionUuid:e.sectionUuid,subsectionUuid:e.subsectionUuid,itemUuid:e.uuid}}),draftOrderMetadata:u,canEditGroupOrderCart:s,showRemoveParticipantButton:r})}),(0,S.tZ)(G.ZP,{$height:16}),(0,S.tZ)(m.Z,{$height:"1px",$margin:"0"})]})},se=e=>{var t,r,i;const{groupedItems:o,showRemoveParticipantButton:a=!1}=e,{serverCart:d}=(0,f.iQ)(),{store:s}=(0,j.Z)(null===(t=d.data)||void 0===t?void 0:t.storeUuid),l=(null===(r=s.data)||void 0===r?void 0:r.slug)||"",c=(null===(i=s.data)||void 0===i?void 0:i.uuid)||"";(0,X.Z)();const u=(0,A.Z)(),p=(0,n.TH)(),m=(0,Q.Z)(),{isDraftOrderCreator:g}=m,{canEditGroupOrderCart:h}=(0,N.Z)(c);return(0,S.tZ)(S.HY,{children:o.map(((e,t)=>(0,S.tZ)(de,{cartMemberIndex:t,cartByMember:e,updateCartItemQuantity:u,location:p,isDraftOrderCreator:g,canEditGroupOrderCart:h,showRemoveParticipantButton:a,storeUuid:c,storeSlug:l,draftOrderMetadata:m},t)))})},le=e=>{let{title:t}=e;return"Collapse"===t?(0,S.tZ)(Y.c.TriangleUp,{size:24}):(0,S.tZ)(Y.c.TriangleDown,{size:24})},ce=e=>{const{groupedItems:t,groupingTitle:r}=e;return(0,S.tZ)(a.Z,{children:(0,S.tZ)(d.Z,{disabled:!t.length,title:r,overrides:{ToggleIcon:{component:le},Header:{style:e=>{let{$theme:t}=e;return{backgroundColor:t.colors.backgroundSecondary}}},Content:{style:e=>{let{$theme:t}=e;return{padding:"".concat(t.sizing.scale100," ").concat(t.sizing.scale100," 0px ").concat(t.sizing.scale100)}}}},children:(0,S.tZ)(se,{groupedItems:t,showRemoveParticipantButton:!0})})})},ue=(0,c.zo)("div",{display:"flex",flexDirection:"column",margin:"2px 0px 2px"}),pe=e=>{const{groupingTitle:t,groupingDescription:r}=e;return(0,S.BX)(ue,{children:[(0,S.tZ)(o.Uc,{display:"inline-flex",marginBottom:"scale200",children:t}),(0,S.tZ)(o.aM,{display:"inline-flex",color:"contentTertiary",children:r})]})},me=e=>{const{groupingTitle:t,groupingDescription:r,onClick:i}=e,{setIsManagingGroupOrder:n}=(0,K.Z)(),[,o]=(0,c.hQ)();return(0,S.tZ)(S.HY,{children:(0,S.tZ)(W.zx,{kind:W.TO.tertiary,onClick:()=>{i(),n(!0)},endEnhancer:()=>(0,S.tZ)(Y.c.TriangleRight,{color:o.colors.contentInverseTertiary,size:24}),overrides:{BaseButton:{style:{width:"100%",justifyContent:"space-between"}}},children:(0,S.tZ)(pe,{groupingTitle:t,groupingDescription:r})})})}},58700:(e,t,r)=>{r.d(t,{Z:()=>l});var i=r(43193),n=r(7903),o=r(72403),a=r(21954),d=r(80508),s=r(58980);function l(){const e=(0,s.TH)(),t=(0,n.k6)(),{isHandledHighCapacityOrder:r}=(0,a.Z)(),{loManageOrder:l}=(0,o.RAN)(e,["loManageOrder"]),c=i.useCallback((r=>{let{isManaging:i,isGroupOrder:n}=r;i?t.push((0,o.LcV)(e,n)):t.replace({search:(0,o.CiO)(e,["loManageOrder"]).search})}),[t,e]);return{isManagingGroupOrder:r&&l===d.kO.GUESTS,isManagingItems:r&&l===d.kO.ITEMS,setIsManagingGroupOrder:e=>c({isManaging:e,isGroupOrder:!0}),setIsManagingItems:e=>c({isManaging:e,isGroupOrder:!1})}}},96361:(e,t,r)=>{r.d(t,{Z:()=>u});var i=r(36151),n=r(64990),o=r(21954),a=r(44902),d=r(28398),s=r(72611),l=r(13028),c=r(97174);const u=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,s.Z)(),r=(0,l.CF)(),{draftOrder:u,draftOrderMaybe:p}=(0,c.Dz)(),m=(0,n.A4)(),{deliveryAddress:g,diningMode:h}=(0,o.Z)(),[f,v]=i.useState(!1),y=(0,d.v)((e=>{let{stores:t}=e;return t[(null==u?void 0:u.storeUuid)||""]}))||{isLoading:!1,hasLoaded:!1,data:null,error:null};i.useEffect((()=>{var i,n;if(e||!t||!p.hasLoaded||!(r.hasLoaded||null!=y&&y.hasLoaded)||f)return;const o=((null===(i=r.data)||void 0===i?void 0:i.validationErrors)||[])[0],d=null==y||null===(n=y.error)||void 0===n?void 0:n.message;!o&&!d||(null==o?void 0:o.type)!==a.cz.INVALID_DELIVERY_TIME_RANGE&&"eats.get_store_invalid_delivery_time"!==d||(m.updateDraftOrder({overrides:{deliveryTime:{asap:!0},deliveryLocation:g,diningMode:h}}),v(!0))}),[e,t,m,g,h,r.data,r.hasLoaded,y,f,p.hasLoaded])}}}]);